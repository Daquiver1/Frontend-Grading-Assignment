"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5695],{3359:function(e,t,n){n.d(t,{Z:function(){return P}});var r,i=n(36112),a=n(90038),o=n(7813),s=n(18008),l=n(33322),c=n(73582),u=n(25349),d=n(99893),f=n(37178),g=n(19841),p=n(1454),m=n(32004),h=n(94968),x=n(21389),v=n(41202),b=n(4748),j=n(35250);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){(0,i.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w=x.Z.a(r||(r=(0,a.Z)(["flex px-3 min-h-[44px] py-1 items-center gap-3 transition-colors duration-200 dark:text-white cursor-pointer text-sm"])));function O(e){var t=e.onClick,n=e.href,r=e.target,i=e.children;return(0,j.jsx)(o.v.Item,{children:function(e){var a=e.active;return(0,j.jsx)(w,{as:void 0!==n?"a":"button",onClick:t,href:n,target:r,className:(0,g.default)(a?"bg-gray-100 dark:bg-gray-800":"hover:bg-gray-100 dark:hover:bg-gray-800"),children:i})}})}function P(){var e=(0,c.aF)(),t=(0,l.E)().isUserUnauthenticated;return(0,j.jsxs)(o.v,{as:"div",className:"group relative",children:[(0,j.jsx)(o.v.Button,{className:"flex items-center justify-center rounded-full border border-gray-200 bg-gray-50 text-gray-600 dark:border-white/10 dark:bg-white/10 dark:text-gray-200",children:(0,j.jsx)("div",{className:"flex h-6 w-6 items-center justify-center text-xs",children:"?"})}),(0,j.jsx)(v.m,{children:(0,j.jsxs)(o.v.Items,{className:"absolute bottom-full right-0 z-20 mb-2 w-full min-w-[175px] overflow-hidden rounded-md bg-gray-50 pb-1.5 pt-1 outline-none dark:bg-gray-950",children:[e&&!t&&(0,j.jsx)(O,{onClick:function(){(0,f.S)(null==e?void 0:e.id).then(function(){b.m.success("Copied your User ID to clipboard")})},children:(0,j.jsx)("span",{className:"truncate text-xs text-black/20 dark:text-white/30",children:null==e?void 0:e.email})}),(0,j.jsxs)(O,{as:"a",href:"https://help.openai.com/en/collections/3742473-chatgpt",target:"_blank",onClick:function(){u.A.logEvent(d.M.clickFaqLink)},children:[(0,j.jsx)(p.AlO,{className:"icon-sm"}),(0,j.jsx)("span",{className:"text-xs",children:(0,j.jsx)(m.Z,k({},A.helpAndFaq))})]}),(0,j.jsxs)(O,{as:"a",href:"https://help.openai.com/en/articles/6825453-chatgpt-release-notes",target:"_blank",children:[(0,j.jsx)(p.AlO,{className:"icon-sm"}),(0,j.jsx)("span",{className:"text-xs",children:(0,j.jsx)(m.Z,k({},A.releaseNotes))})]}),(0,j.jsxs)(O,{as:"a",href:"https://openai.com/policies",target:"_blank",onClick:function(){u.A.logEvent(d.M.clickPrivacyPolicy)},children:[(0,j.jsx)(p.AlO,{className:"icon-sm"}),(0,j.jsx)("span",{className:"text-xs",children:(0,j.jsx)(m.Z,k({},A.termsAndPolicies))})]}),(0,j.jsxs)(O,{onClick:function(){s.vm.openModal(s.B.KeyboardActions)},children:[(0,j.jsx)(p.aCJ,{className:"icon-sm"}),(0,j.jsx)("span",{className:"text-xs",children:(0,j.jsx)(m.Z,k({},A.keyboardShortcutsMenu))})]})]})})]})}var A=(0,h.vU)({helpAndFaq:{id:"thread.helpAndFaq",defaultMessage:"Help & FAQ"},releaseNotes:{id:"thread.releaseNotes",defaultMessage:"Release notes"},termsAndPolicies:{id:"thread.termsAndPolicies",defaultMessage:"Terms & policies"},keyboardShortcutsMenu:{id:"thread.keyboardShortcutsMenu",defaultMessage:"Keyboard shortcuts"}})},52467:function(e,t,n){n.d(t,{h:function(){return m},t:function(){return b}});var r,i,a,o,s,l,c=n(90038),u=n(95182),d=n.n(u),f=n(1454),g=n(21389),p=n(35250);function m(e){var t=e.currentPage,n=e.onChangeIndex,r=e.length,i=e.className,a=function(e){n(d()(t+e,0,r-1))};return(0,p.jsxs)(h,{className:i,children:[(0,p.jsx)(x,{onClick:function(){return a(-1)},disabled:0===t,children:(0,p.jsx)(f.YFh,{className:"icon-xs"})}),(0,p.jsx)(v,{children:"".concat(t+1," / ").concat(r)}),(0,p.jsx)(x,{onClick:function(){return a(1)},disabled:t===r-1,children:(0,p.jsx)(f.Tfp,{className:"icon-xs"})})]})}var h=g.Z.div(r||(r=(0,c.Z)(["text-xs flex items-center justify-center gap-1"]))),x=g.Z.button(i||(i=(0,c.Z)(["dark:text-white disabled:text-gray-300 dark:disabled:text-gray-400"]))),v=g.Z.span(a||(a=(0,c.Z)(["flex-grow flex-shrink-0 tabular-nums"])));function b(e){var t=e.currentPage,n=e.onChangeIndex,r=e.length,i=e.className,a=function(e){n(d()(t+e,0,r-1))};return(0,p.jsxs)(j,{className:i,children:[(0,p.jsx)(y,{onClick:function(){return a(-1)},disabled:0===t,children:(0,p.jsx)(f.YFh,{className:"icon-sm"})}),(0,p.jsx)(k,{children:"".concat(t+1,"/").concat(r)}),(0,p.jsx)(y,{onClick:function(){return a(1)},disabled:t===r-1,children:(0,p.jsx)(f.Tfp,{className:"icon-sm"})})]})}var j=g.Z.div(o||(o=(0,c.Z)(["text-xs inline-flex bg-token-surface-secondary h-8 border rounded border-token-border-medium"]))),y=g.Z.button(s||(s=(0,c.Z)(["text-token-text-secondary disabled:text-token-border-medium w-8 flex items-center justify-center hover:bg-token-surface-tertiary"]))),k=g.Z.span(l||(l=(0,c.Z)(["text-token-text-tertiary px-2 flex items-center font-mono tracking-widest"])))},41202:function(e,t,n){n.d(t,{m:function(){return o}});var r=n(98359),i=n(70079),a=n(35250);function o(e){var t=e.show,n=e.appear,o=e.children;return(0,a.jsx)(r.u,{as:i.Fragment,enter:"transition ease-out duration-200",enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:"transition ease-in duration-150",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",show:t,appear:n,children:o})}},2306:function(e,t,n){n.d(t,{B:function(){return c}});var r=n(70079),i=n(19954),a=n(73929),o=n(5974),s=n(11693),l=n(35250);function c(e){var t,n=e.clientThreadId,c=e.gizmoId,u=(0,i.UL)(n),d=null!==(0,r.useContext)(a.gB);if(!(0,o.w$)())return(0,l.jsx)("div",{className:"h-1.5"});if(d)return null;var f=null!==(t=u.gizmoId)&&void 0!==t?t:c;return null==f?(0,l.jsx)(s.nw,{clientThreadId:n}):(0,l.jsx)(s.zr,{gizmoId:f,clientThreadId:n})}},56700:function(e,t,n){n.d(t,{_:function(){return np}});var r,i,a,o,s,l,c,u,d,f,g,p,m,h,x,v,b,j,y,k,w,O=n(36112),P=n(80459),A=n(7144),M=n(1890),C=n(19954),N=n(18008),S=n(33322),T=n(73582),Z=n(47428),I=n(25349),D=n(99893),z=n(19841),E=n(10721),B=n.n(E),L=n(70079),R=n(1454),_=n(32004),U=n(94968),G=n(61302),F=n(91559),q=n(38766),V=n(25736),H=n(11693),K=n(37097),W=n(5063),Y=n(50687),Q=n(6939),X=n(50134),J=n(4399),$=n.n(J),ee=n(3554),et=n(21120),en=n(14711),er=n(35250),ei=["className"];function ea(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function eo(e){var t=e.className,n=(0,P.Z)(e,ei);return(0,er.jsx)("textarea",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ea(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ea(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({className:(0,z.default)("form-textarea w-full rounded-lg border border-token-border-light bg-token-surface-secondary text-sm text-token-text-primary focus:border-token-text-primary focus:shadow-none focus:outline-none focus:ring-token-text-primary",t)},n))}var es=n(61236);function el(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ec(e){var t=e.reasons,n=e.onSelectReason;return(0,er.jsx)("div",{className:"divide-y overflow-hidden rounded-md border border-token-border-medium",children:t.map(function(e){return(0,er.jsx)("button",{onClick:function(){n(e)},className:"w-full border-token-border-medium p-2 text-left text-sm hover:bg-token-surface-secondary",children:e.cta},e.id)})})}function eu(e){var t=e.reason,n=e.submitReport,r=(0,L.useState)(""),i=r[0],a=r[1],o=(0,L.useState)(!1),s=o[0],l=o[1];return(0,er.jsxs)("div",{children:[(0,er.jsx)(eo,{value:i,onChange:function(e){return a(e.target.value)},placeholder:t.details_placeholder,autoFocus:!0}),(0,er.jsx)("div",{className:"mt-1 flex justify-end",children:(0,er.jsx)(F.z,{onClick:function(){try{l(!0),n(t.id,i)}finally{l(!1)}},disabled:s,children:"Submit report"})})]})}function ed(e){var t=e.reason;return(0,er.jsxs)("div",{className:"text-sm",children:[(0,er.jsx)("div",{className:"mb-2",children:t.link_explanation}),(0,er.jsx)("div",{children:(0,er.jsx)("a",{href:t.link_attachment,target:"_blank",rel:"noreferrer",className:"break-words underline",children:t.link_attachment})})]})}function ef(e){var t,n,r=e.gizmoId,i=(0,es.a)({queryKey:["gizmoReportReasons"],queryFn:function(){return en.U.getGizmoReportReasons()}}).data,a=(0,L.useState)([]),o=a[0],s=a[1],l=(0,L.useState)(!1),c=l[0],u=l[1];if(null==i)return null;var d,f,g,p,m=i.reasons,h=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return el(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return el(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(o);try{for(h.s();!(p=h.n()).done;)!function(){var e=p.value;m=(g=m.find(function(t){return t.id===e})).sub_reasons}()}catch(e){h.e(e)}finally{h.f()}function x(e,t){return v.apply(this,arguments)}function v(){return(v=(0,X.Z)($().mark(function e(t,n){return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,en.U.postGizmoReport(r,{id:t,details:n});case 2:u(!0);case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}return c?(0,er.jsx)("div",{children:(0,er.jsx)("div",{className:"pb-4 text-sm",children:"You report has been submitted. Thank you."})}):(n=(null===(d=g)||void 0===d?void 0:d.details_placeholder)!=null?(0,er.jsx)(eu,{reason:g,submitReport:x}):(null===(f=g)||void 0===f?void 0:f.link_attachment)!=null?(0,er.jsx)(ed,{reason:g}):(0,er.jsx)(ec,{reasons:m,onSelectReason:(t=(0,X.Z)($().mark(function e(t){return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:0===t.sub_reasons.length&&null==t.details_placeholder&&null==t.link_attachment?x(t.id):s(function(e){return[].concat((0,Q.Z)(e),[t.id])});case 1:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)})}),(0,er.jsxs)("div",{children:[(0,er.jsxs)("div",{className:"mb-4",children:[(0,er.jsx)("div",{className:"text-sm font-medium",children:i.header}),(0,er.jsx)("div",{className:"text-sm text-token-text-secondary",children:i.header_explanation})]}),null!=g?(0,er.jsx)("div",{className:"mb-2 flex gap-1 text-sm",children:(0,er.jsxs)("button",{onClick:function(){s(function(e){return e.slice(0,-1)})},className:"flex items-center gap-2 p-1",children:[(0,er.jsx)(R.YFh,{}),(0,er.jsx)("div",{children:g.cta})]})}):null,n]}))}function eg(e){var t=e.gizmoId,n=e.onClose,r=(0,K.b9)(t).data;return(0,er.jsx)(et.Z,{title:null!=r?"Report ".concat(r.gizmo.display.name):"Report",isOpen:!0,onClose:n,closeButton:(0,er.jsx)(ee.ZP.CloseButton,{onClose:n}),type:"success",children:(0,er.jsx)(ef,{gizmoId:t})})}var ep=n(49668),em=n(52336),eh=n(86561),ex=n(83071),ev=n(90038),eb=n(14765),ej=n(21389),ey=n(65618),ek=n(26563),ew=n(98359),eO=n(57526),eP=n(99581),eA=n(5974),eM=n(14972),eC=n(63866),eN=["selectedOptions","selectedLabel","onChange","onAction","onOpen","onClose","dropdownRef"];function eS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var eT=["confidential","alpha","plus"];function eZ(e){var t=e.selectedOptions,n=e.selectedLabel,r=e.onChange,i=e.onAction,a=e.onOpen,o=e.onClose,s=e.dropdownRef,l=(0,P.Z)(e,eN),c=(0,L.useCallback)(function(e){if(e.some(function(e){return"string"==typeof e})){var t=e.find(function(e){return"string"==typeof e});null==i||i(t)}else r(e)},[r,i]);return(0,er.jsx)(ek.R,{value:t.map(function(e){return e.value}),multiple:!0,onChange:c,children:function(e){var r=e.open;return(0,er.jsx)(eI,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eS(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({ref:s,selectedLabel:n||"".concat(t.length," selected"),open:r,onOpen:a,onClose:o,multiple:!0},l))}})}var eI=(0,L.forwardRef)(function(e,t){var n=e.name,r=e.selectedLabel,i=e.open,a=e.options,o=e.actions,s=e.multiple,l=e.isLoading,c=e.loadingState,u=e.header,d=e.onOpen,f=e.onClose,g=e.theme,p=(0,L.useRef)(null),m=(0,L.useRef)(null),h=(0,eA.oc)();(0,L.useImperativeHandle)(t,function(){return{open:function(){if(!i){var e;null===(e=p.current)||void 0===e||e.click()}},close:function(){if(i){var e;null===(e=p.current)||void 0===e||e.click()}}}},[i]);var x=l?c||(0,er.jsx)("div",{className:"flex h-[42px] items-center justify-center",children:(0,er.jsx)(eC.Z,{})}):(0,er.jsxs)(er.Fragment,{children:[u,(0,er.jsxs)(ek.R.Options,{className:"overflow-auto",children:[a.map(function(e,t){return(0,er.jsx)(eD,{value:e.value,disabled:e.disabled,theme:g,children:function(t){var n=t.selected,r=t.active;return(0,er.jsxs)(er.Fragment,{children:[(0,er.jsxs)(eV,{children:[e.imageUrl&&(0,er.jsx)(eH,{children:(0,er.jsx)(ey.Z,{url:e.imageUrl,name:e.title,size:"100%"})}),(0,er.jsxs)("span",{className:(0,z.default)(n&&!s&&"font-semibold","flex h-6 items-center gap-1 text-gray-800 dark:text-gray-100"),children:[e.title,e.tags.map(function(e){return eR(e)}),e.customTags]})]}),s&&!e.disabled?(0,er.jsx)(eE,{theme:g,selected:n}):n&&(0,er.jsx)(ez,{theme:g,icon:"mini"===g?eM.HQ:R.UgA}),e.disabled&&(0,er.jsx)(ez,{theme:g,icon:eO.Z,className:"text-red-700 dark:text-red-500"}),r&&h&&(0,eP.createPortal)((0,er.jsx)(eL,{option:e,dropdownRef:m}),document.body)]})}},t)}),null==o?void 0:o.map(function(e,t){return(0,er.jsx)(eD,{value:e.id,theme:g,children:function(){return(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)("div",{className:"text-gray-800 dark:text-gray-100",children:e.label}),(0,er.jsx)(ez,{theme:g,icon:e.icon})]})}},t)})]})]});return(0,er.jsxs)("div",{className:"relative w-fit",children:[(0,er.jsxs)(ek.R.Button,{ref:p,onClick:i?f:d,className:(0,z.default)("relative flex cursor-pointer flex-col bg-white py-2 pr-10 text-left text-[15px] font-normal dark:bg-gray-800 sm:text-sm","mini"===g?"mx-auto w-auto rounded-lg border border-black/10 pl-4 pr-7 hover:border-black/10 dark:border-white/20 dark:hover:border-white":"w-full rounded-md border border-black/10 pl-3 focus:border-green-600 focus:outline-none focus:ring-1 focus:ring-green-600 dark:border-white/20"),children:["mini"!==g&&(0,er.jsx)(ek.R.Label,{className:"block text-xs text-gray-700 dark:text-gray-500",children:n}),(0,er.jsx)("span",{className:"inline-flex w-full truncate",children:(0,er.jsx)("span",{className:"flex h-6 items-center gap-1 truncate",children:r})}),(0,er.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,er.jsx)(W.ud,{})})]}),(0,er.jsx)(ew.u,{show:i,as:L.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,er.jsx)(eU,{ref:m,children:x})})]})});function eD(e){var t=e.value,n=e.disabled,r=e.children,i=e.theme;return(0,er.jsx)(ek.R.Option,{className:function(e){var t=e.active;return(0,z.default)("mini"===i?eF:eq,t&&!n?"bg-gray-100 dark:bg-gray-700":"text-gray-900",n&&"cursor-auto bg-gray-50 text-gray-400 dark:bg-gray-700 dark:text-gray-100")},value:t,children:r})}function ez(e){var t=e.icon,n=e.className,r=e.theme;return(0,er.jsx)("mini"===r?eK:eW,{children:(0,er.jsx)(t,{className:(0,z.default)("icon-md",n),"aria-hidden":"true"})})}function eE(e){var t=e.selected,n=e.disabled;if("mini"===e.theme){var r=(0,z.default)("h-5 w-5 text-blue-600",t?"stroke-[2.5]":"stroke-2");return(0,er.jsxs)(eK,{children:[t?(0,er.jsx)(eM.HQ,{className:r}):(0,er.jsx)(eM.i9,{className:r}),!t&&(0,er.jsx)(eM.nQ,{className:(0,z.default)("icon-md absolute text-blue-600 opacity-0 transition-opacity",!n&&"group-hover:opacity-100")})]})}return(0,er.jsx)(eW,{children:(0,er.jsx)("div",{className:(0,z.default)("flex h-6 w-6 items-center justify-center rounded-full border transition-colors",t?"border-transparent bg-green-600 text-white":"border-black/5 dark:border-white/20"),"aria-hidden":"true",children:(0,er.jsx)(R.UgA,{className:(0,z.default)("h-3 w-3 transition-opacity",t&&"opacity-100",!t&&"opacity-0",!t&&!n&&"group-hover:opacity-50"),strokeWidth:t?2.5:2})})})}function eB(e){var t=e.showCheckbox,n=e.theme;return(0,er.jsxs)("div",{className:(0,z.default)("mini"===n?eF:eq,"cursor-auto"),children:[(0,er.jsxs)(eV,{children:[(0,er.jsx)(eH,{children:(0,er.jsx)("div",{className:"h-full w-full rounded-sm bg-gray-200"})}),(0,er.jsx)("div",{className:"h-[12px] w-[88px] rounded-sm bg-gray-100"})]}),t&&(0,er.jsx)(eE,{theme:n,selected:!1,disabled:!0})]})}function eL(e){var t=e.option,n=e.dropdownRef,r=(0,L.useState)(),i=r[0],a=r[1];return((0,L.useEffect)(function(){var e=function(){if(n.current){var e=n.current.getBoundingClientRect();a({top:e.top,left:e.left-260,minHeight:e.height})}};return e(),window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}},[n]),i)?(0,er.jsxs)(eG,{style:{width:260,minHeight:i.minHeight,top:i.top,left:i.left},children:[t.disabled&&(0,er.jsx)(eO.Z,{className:"icon-lg text-red-700 dark:text-red-500"}),t.imageUrl&&(0,er.jsx)(ey.Z,{url:t.imageUrl,name:t.title,size:70}),(0,er.jsxs)("div",{className:"flex items-center gap-1",children:[t.title," ",t.tags.map(function(e){return eR(e)})," ",t.customTags]}),(0,er.jsx)("div",{className:"whitespace-pre-line text-xs",children:t.description})]}):null}var eR=function(e){return eT.includes(e)&&(0,er.jsx)("span",{className:(0,z.default)("py-0.25 rounded px-1 text-[10px] font-semibold uppercase","confidential"===e&&"bg-red-200 text-red-800","alpha"===e&&"bg-blue-200 text-blue-500","plus"===e&&"bg-yellow-200 text-yellow-900"),children:e},e)},e_=ej.Z.div(a||(a=(0,ev.Z)(["rounded-lg bg-white ring-1 ring-black/10 dark:bg-gray-800 dark:ring-white/20 shadow-[0_1px_7px_0_rgba(0,0,0,0.03)]"]))),eU=(0,ej.Z)(e_)(o||(o=(0,ev.Z)(["absolute z-[17] mt-2 flex max-h-60 w-full flex-col overflow-hidden text-base focus:outline-none dark:last:border-0 sm:text-sm min-w-[250px]"]))),eG=(0,ej.Z)(e_)(s||(s=(0,ev.Z)(["absolute z-[17] -ml-[1px] flex flex-col gap-2 p-3 sm:p-4"]))),eF="group relative flex h-[50px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-5 pr-12 last:border-0 dark:border-white/20",eq="group relative flex h-[42px] cursor-pointer select-none items-center overflow-hidden border-b border-black/10 pl-3 pr-9 last:border-0 dark:border-white/20",eV=ej.Z.span(l||(l=(0,ev.Z)(["flex items-center gap-2 truncate"]))),eH=ej.Z.span(c||(c=(0,ev.Z)(["h-6 w-6 shrink-0"]))),eK=ej.Z.span(u||(u=(0,ev.Z)(["absolute inset-y-0 right-0 flex items-center pr-5 text-gray-800 dark:text-gray-100"]))),eW=ej.Z.span(d||(d=(0,ev.Z)(["absolute inset-y-0 right-0 flex items-center pr-3 text-gray-800 dark:text-gray-100"]))),eY=n(4748),eQ=n(17378),eX=n(32957),eJ=n(37994),e$=n(998);function e0(e){var t=e.icon,n=e.children;return(0,er.jsxs)(e1,{children:[(0,er.jsx)(e2,{children:t}),(0,er.jsx)(e5,{children:n})]})}var e1=ej.Z.div(f||(f=(0,ev.Z)(["flex p-4 bg-gray-50 dark:bg-white/5 rounded-md items-center gap-4 min-h-[71px]"]))),e2=ej.Z.div(g||(g=(0,ev.Z)(["w-10 text-2xl text-center"]))),e5=ej.Z.div(p||(p=(0,ev.Z)(["flex-1 leading-5"]))),e3=ej.Z.div(m||(m=(0,ev.Z)(["flex gap-4 flex-col text-sm"]))),e4=n(66027),e8=n(82473),e6=n(15136),e9=n(70671),e7=n(80449),te=n(64851),tt=ej.Z.div(h||(h=(0,ev.Z)(["mt-4 flex flex-col gap-4"]))),tn=ej.Z.div(x||(x=(0,ev.Z)(["text-sm text-red-500"]))),tr=n(71855);function ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ta(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ti(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ti(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var to=(0,U.vU)({enterWebsiteDomainTitle:{id:"DevelopPluginModal.enterWebsiteDomainTitle",defaultMessage:"Enter your website domain"},learnToBuildPlugin:{id:"DevelopPluginModal.learnToBuildPlugin",defaultMessage:"Visit our documentation to learn how to build a plugin."},pluginApprovalWarning:{id:"DevelopPluginModal.pluginApprovalWarning",defaultMessage:"If your plugin has been approved to be in the ChatGPT plugin store, and you have made changes to your plugin's manifest, your plugin will be removed from the store, and you will need to <resubmitLink>resubmit it for review</resubmitLink>."},domainInputPlaceholder:{id:"DevelopPluginModal.domainInputPlaceholder",defaultMessage:"ex: openai.com or localhost:3000"},authenticationFileText:{id:"DevelopPluginModal.authenticationFileText",defaultMessage:"My file requires authentication"},authenticationTypeText:{id:"DevelopPluginModal.authenticationTypeText",defaultMessage:"Authentication type"},accessTokenText:{id:"DevelopPluginModal.accessTokenText",defaultMessage:"Access token"},findManifestFileText:{id:"DevelopPluginModal.findManifestFileText",defaultMessage:"Find manifest file"},cancelButtonText:{id:"DevelopPluginModal.cancelButtonText",defaultMessage:"Cancel"},domainDisplayName:{id:"DevelopPluginModal.domainDisplayName",defaultMessage:"Domain"},bearerLabel:{id:"DevelopPluginModal.bearerLabel",defaultMessage:"Bearer"},basicLabel:{id:"DevelopPluginModal.basicLabel",defaultMessage:"Basic"},refetchManifestButtonText:{id:"DevelopPluginModal.refetchManifestButtonText",defaultMessage:"Refetch manifest"},installLocalhostPluginButtonText:{id:"DevelopPluginModal.installLocalhostPluginButtonText",defaultMessage:"Install localhost plugin"},nextButtonText:{id:"DevelopPluginModal.nextButtonText",defaultMessage:"Next"},foundPluginTitle:{id:"DevelopPluginModal.foundPluginTitle",defaultMessage:"Found plugin"},enterServiceAccessTokenLabel:{id:"DevelopPluginModal.enterServiceAccessTokenLabel",defaultMessage:"Enter your service access token:"},enterOAuthCredentialsLabel:{id:"DevelopPluginModal.enterOAuthCredentialsLabel",defaultMessage:"Enter your OAuth credentials:"},addVerificationTokenTitle:{id:"DevelopPluginModal.addVerificationTokenTitle",defaultMessage:"Add verification token"},verifyTokensButtonText:{id:"DevelopPluginModal.verifyTokensButtonText",defaultMessage:"Verify tokens"},addTokensLaterButtonText:{id:"DevelopPluginModal.addTokensLaterButtonText",defaultMessage:"I'll add the tokens later"},addVerificationTokensText:{id:"DevelopPluginModal.addVerificationTokensText",defaultMessage:"Add the following verification tokens to your manifest file:"},readyToInstallTitle:{id:"DevelopPluginModal.readyToInstallTitle",defaultMessage:"Ready to install"},installForMeButtonText:{id:"DevelopPluginModal.installForMeButtonText",defaultMessage:"Install for me"},installLaterButtonText:{id:"DevelopPluginModal.installLaterButtonText",defaultMessage:"Install later"},unverifiedPluginText:{id:"DevelopPluginModal.unverifiedPluginText",defaultMessage:"Your unverified plugin can now be installed by <developersLink>up to 15 developers</developersLink>. Once you're ready to make your plugin available to everyone, you can <submitPluginLink>submit your plugin for review</submitPluginLink>."}});function ts(e){var t=e.onClickInstall,n=e.onInstallLocalhost,r=e.onClose,i=(0,L.useState)(),a=i[0],o=i[1],s=(0,L.useState)(),l=s[0],c=s[1],u=(0,L.useState)(!1),d=u[0],f=u[1],g=(0,L.useCallback)(function(e){o(e)},[]),p=(0,L.useCallback)(function(){f(!0)},[]);return d&&null!=a&&a.scrapeManifestResponse.plugin?(0,er.jsx)(tf,{plugin:null==a?void 0:a.scrapeManifestResponse.plugin,onClickInstall:t,onClose:r}):l&&null!=a&&a.scrapeManifestResponse.plugin?(0,er.jsx)(td,{plugin:a.scrapeManifestResponse.plugin,manifestAccessToken:a.manifestAccessToken,verificationTokens:l,onReadyToInstall:p,onClose:r}):a?(0,er.jsx)(tu,{loadManifestResult:a,onRefetch:g,onSubmitAuthInfo:c,onReadyToInstall:p,onInstallLocalhost:n,onClose:r}):(0,er.jsx)(tl,{onFetch:g,onClose:r})}function tl(e){var t=e.onFetch,n=e.onClose,r=(0,e9.Z)(),i=(0,T.aF)(),a=(0,L.useState)(!1),o=a[0],s=a[1],l=(0,L.useState)("bearer"),c=l[0],u=l[1],d=(0,L.useState)(),f=d[0],g=d[1],p=(0,L.useRef)(null),m=(0,L.useRef)(null),h=(0,e7.useFetchManifestAndSpec)(),x=h.fetchManifestAndSpec,v=h.isLoading;(0,L.useEffect)(function(){var e;null===(e=p.current)||void 0===e||e.focus()},[]);var b=(0,L.useCallback)(function(){s(function(e){return!e})},[]),j=(0,L.useCallback)(function(e){u(e.target.value)},[]),y=(0,L.useCallback)((0,X.Z)($().mark(function e(){var n,i,a;return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=null===(n=p.current)||void 0===n?void 0:n.value){e.next=4;break}return g(r.formatMessage(to.domainInputPlaceholder)),e.abrupt("return");case 4:x({domain:a,manifestAccessToken:o?{authorization_type:c,token:(null===(i=m.current)||void 0===i?void 0:i.value)||""}:void 0,onSuccess:t,onError:function(e){return g((null==e?void 0:e.message)||"Couldn't find manifest.")}});case 6:case"end":return e.stop()}},e)})),[x,t,c,o,r]);return(0,er.jsx)(et.Z,{isOpen:!0,onClose:n,type:"success",title:(0,er.jsx)(_.Z,ta({},to.enterWebsiteDomainTitle)),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(to.findManifestFileText),color:"primary",onClick:y,loading:v}),secondaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(to.cancelButtonText),color:"neutral",onClick:n}),children:(0,er.jsxs)(tt,{children:[(0,er.jsx)("a",{href:"https://platform.openai.com/docs/plugins/getting-started",target:"_blank",rel:"noreferrer",className:"text-green-600",children:(0,er.jsx)(_.Z,ta({},to.learnToBuildPlugin))}),(0,er.jsx)(e0,{icon:"\uD83D\uDEA8",children:(0,er.jsx)(_.Z,ta(ta({},to.pluginApprovalWarning),{},{values:{resubmitLink:function(e){return(0,er.jsx)("a",{target:"_blank",rel:"noreferrer",className:"text-green-600",href:"https://platform.openai.com/docs/plugins/review/submit-a-plugin-for-review",children:e})}}}))}),(0,er.jsx)(e$.Z,{ref:p,name:"url",displayName:r.formatMessage(to.domainDisplayName),placeholder:r.formatMessage(to.domainInputPlaceholder),onPressEnter:y,autoFocus:!0}),null!=i&&(0,e6.yl)(i)&&(0,er.jsxs)(er.Fragment,{children:[(0,er.jsxs)("div",{role:"button",className:"flex cursor-pointer items-center gap-1 text-sm text-black/60 hover:text-black/70",onClick:b,children:[(0,er.jsx)("div",{children:(0,er.jsx)(_.Z,ta({},to.authenticationFileText))}),o?(0,er.jsx)(R.rH8,{className:"icon-sm"}):(0,er.jsx)(R.bTu,{className:"icon-sm"})]}),o&&(0,er.jsxs)(er.Fragment,{children:[(0,er.jsxs)("div",{className:"flex flex-col gap-2 text-sm",children:[(0,er.jsx)("div",{children:(0,er.jsx)(_.Z,ta({},to.authenticationTypeText))}),(0,er.jsxs)("div",{className:"flex gap-6",children:[(0,er.jsx)(tc,{label:r.formatMessage(to.bearerLabel),value:"bearer",checked:"bearer"===c,onChange:j}),(0,er.jsx)(tc,{label:r.formatMessage(to.basicLabel),value:"basic",checked:"basic"===c,onChange:j})]})]}),(0,er.jsxs)("div",{className:"flex flex-col gap-2 text-sm",children:[(0,er.jsx)("div",{children:(0,er.jsx)(_.Z,ta({},to.accessTokenText))}),(0,er.jsx)(e$.Z,{ref:m,name:"manifestToken",onPressEnter:y})]})]})]}),f&&(0,er.jsx)(tn,{children:f})]})})}function tc(e){var t=e.label,n=e.value,r=e.checked,i=e.onChange;return(0,er.jsxs)("label",{className:"flex items-center gap-2",children:[(0,er.jsx)("input",{name:"manifestAuthType",type:"radio",value:n,checked:r,onChange:i,className:"text-green-600 focus:ring-green-600"}),t]})}function tu(e){var t=e.loadManifestResult,n=e.onRefetch,r=e.onSubmitAuthInfo,i=e.onReadyToInstall,a=e.onInstallLocalhost,o=e.onClose,s=(0,e9.Z)(),l=t.domain,c=t.manifestAccessToken,u=t.scrapeManifestResponse,d=t.apiValidationInfo,f=u.plugin,g=u.manifest_validation_info,p=(0,L.useState)(),m=p[0],h=p[1],x=(0,L.useState)(!1),v=x[0],b=x[1],j=(0,L.useRef)(null),y=(0,L.useRef)(null),k=(0,L.useRef)(null),w=(0,e7.useFetchManifestAndSpec)(),O=w.fetchManifestAndSpec,P=w.isLoading,A=(0,e8.NL)(),M=f&&(0,eQ.cf)(f),C=(null==f?void 0:f.manifest.auth.type)==="service_http",N=(null==f?void 0:f.manifest.auth.type)==="oauth",S=g.errors&&g.errors.length>0||(null==d?void 0:d.errors)&&(null==d?void 0:d.errors.length)>0,T=(0,L.useCallback)((0,X.Z)($().mark(function e(){var t,s,u,d,g;return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!S){e.next=4;break}O({domain:l,manifestAccessToken:c,onSuccess:n,onError:function(e){return h((null==e?void 0:e.message)||"Couldn't find manifest.")}}),e.next=54;break;case 4:if(!M){e.next=9;break}(0,e7.addToCachedInstalledPlugins)(f,A),a(f),e.next=54;break;case 9:if(!C){e.next=31;break}if(null===(t=j.current)||void 0===t?void 0:t.value){e.next=14;break}return h("Please provide your service access token."),e.abrupt("return");case 14:return e.prev=14,b(!0),e.next=18,e4.ZP.setPluginServiceHttpToken({id:f.id,serviceAccessToken:j.current.value});case 18:r(e.sent.verification_tokens),e.next=26;break;case 23:e.prev=23,e.t0=e.catch(14),h("Error setting access token.");case 26:return e.prev=26,b(!1),e.finish(26);case 29:e.next=54;break;case 31:if(!N){e.next=53;break}if(d=null===(s=y.current)||void 0===s?void 0:s.value,g=null===(u=k.current)||void 0===u?void 0:u.value,!(!d||!g)){e.next=37;break}return h("Please provide your OAuth credentials."),e.abrupt("return");case 37:return e.prev=37,e.next=40,e4.ZP.setPluginOAuthClientCredentials({id:f.id,clientId:y.current.value,clientSecret:k.current.value});case 40:r(e.sent.verification_tokens),e.next=48;break;case 45:e.prev=45,e.t1=e.catch(37),h("Error setting OAuth credentials.");case 48:return e.prev=48,b(!1),e.finish(48);case 51:e.next=54;break;case 53:f?i(f):o();case 54:case"end":return e.stop()}},e,null,[[14,23,26,29],[37,45,48,51]])})),[C,N,f,l,c,S,M,A,O,n,r,i,a,o]);return(0,er.jsx)(et.Z,{isOpen:!0,onClose:o,type:"success",title:(0,er.jsx)(_.Z,ta({},to.foundPluginTitle)),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:S?s.formatMessage(to.refetchManifestButtonText):M?s.formatMessage(to.installLocalhostPluginButtonText):s.formatMessage(to.nextButtonText),color:"primary",onClick:T,loading:v||P}),secondaryButton:(S||C||N)&&(0,er.jsx)(ee.ZP.Button,{title:s.formatMessage(to.cancelButtonText),color:"neutral",onClick:o}),children:(0,er.jsxs)(tt,{children:[(0,er.jsx)(tr.rC,{manifestValidationInfo:g}),d&&(0,er.jsx)(tr.q6,{apiValidationInfo:d}),f&&(0,er.jsx)(te.Z,{plugin:f}),C&&!S&&(0,er.jsxs)("div",{children:[(0,er.jsx)("div",{className:"text-sm",children:(0,er.jsx)(_.Z,ta({},to.enterServiceAccessTokenLabel))}),(0,er.jsx)("div",{className:"mt-2",children:(0,er.jsx)(e$.Z,{ref:j,name:"serviceToken",placeholder:"Service access token",autoComplete:"off",onPressEnter:T,autoFocus:!0})})]}),N&&!S&&(0,er.jsxs)("div",{children:[(0,er.jsx)("div",{className:"text-sm",children:(0,er.jsx)(_.Z,ta({},to.enterOAuthCredentialsLabel))}),(0,er.jsx)("div",{className:"mt-2",children:(0,er.jsx)(e$.Z,{ref:y,name:"clientId",placeholder:"Client ID",autoComplete:"off",onPressEnter:T,autoFocus:!0})}),(0,er.jsx)("div",{className:"mt-2",children:(0,er.jsx)(e$.Z,{ref:k,type:"password",name:"clientSecret",placeholder:"Client secret",autoComplete:"off",onPressEnter:T})})]}),m&&(0,er.jsx)(tn,{children:m})]})})}function td(e){var t=e.plugin,n=e.manifestAccessToken,r=e.verificationTokens,i=e.onReadyToInstall,a=e.onClose,o=(0,e9.Z)(),s=(0,L.useState)(),l=s[0],c=s[1],u=(0,L.useState)(!1),d=u[0],f=u[1],g=(0,L.useCallback)((0,X.Z)($().mark(function e(){var a,o,s;return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,e4.ZP.scrapePluginManifest({domain:t.domain,manifestAccessToken:n});case 4:if(!(a=e.sent.plugin)){e.next=19;break}o="service_http"===a.manifest.auth.type||"oauth"===a.manifest.auth.type?a.manifest.auth.verification_tokens:{},e.t0=$().keys(r);case 9:if((e.t1=e.t0()).done){e.next=16;break}if(!(r[s=e.t1.value]!==o[s])){e.next=14;break}return c('Please add the "'.concat(s,'" token to your manifest file.')),e.abrupt("return");case 14:e.next=9;break;case 16:i(a),e.next=20;break;case 19:c("Error creating plugin.");case 20:e.next=25;break;case 22:e.prev=22,e.t2=e.catch(0),c("Error creating plugin.");case 25:return e.prev=25,f(!1),e.finish(25);case 28:case"end":return e.stop()}},e,null,[[0,22,25,28]])})),[t,n,r,i]);return(0,er.jsx)(et.Z,{isOpen:!0,onClose:a,type:"success",title:(0,er.jsx)(_.Z,ta({},to.addVerificationTokenTitle)),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:o.formatMessage(to.verifyTokensButtonText),color:"primary",onClick:g,loading:d}),secondaryButton:(0,er.jsx)(ee.ZP.Button,{title:o.formatMessage(to.addTokensLaterButtonText),color:"neutral",onClick:a}),children:(0,er.jsxs)(tt,{children:[(0,er.jsx)(te.Z,{plugin:t}),(0,er.jsx)("div",{className:"text-sm",children:(0,er.jsx)(_.Z,ta({},to.addVerificationTokensText))}),(0,er.jsx)("pre",{className:"text-sm",children:JSON.stringify(r,null)}),l&&(0,er.jsx)(tn,{children:l})]})})}function tf(e){var t=e.plugin,n=e.onClickInstall,r=e.onClose,i=(0,e9.Z)(),a=(0,L.useCallback)(function(){n(t)},[t,n]);return(0,er.jsx)(et.Z,{isOpen:!0,onClose:r,type:"success",title:(0,er.jsx)(_.Z,ta({},to.readyToInstallTitle)),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:i.formatMessage(to.installForMeButtonText),color:"primary",onClick:a}),secondaryButton:(0,er.jsx)(ee.ZP.Button,{title:i.formatMessage(to.installLaterButtonText),color:"neutral",onClick:r}),children:(0,er.jsx)(tt,{children:(0,er.jsx)("div",{className:"text-sm",children:(0,er.jsx)(_.Z,ta(ta({},to.unverifiedPluginText),{},{values:{developersLink:function(e){return(0,er.jsx)("a",{href:"https://platform.openai.com/docs/plugins/production/can-i-invite-people-to-try-my-plugin",target:"_blank",rel:"noreferrer",className:"text-green-600",children:e})},submitPluginLink:function(e){return(0,er.jsx)("a",{href:"https://platform.openai.com/docs/plugins/review/submit-a-plugin-for-review",target:"_blank",rel:"noreferrer",className:"text-green-600",children:e})}}}))})})})}function tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var tp=(0,U.vU)({title:{id:"InstallUnverifiedDisclaimerModal.title",defaultMessage:"Unverified plugin"},continue:{id:"InstallUnverifiedDisclaimerModal.continue",defaultMessage:"Continue"},cancel:{id:"InstallUnverifiedDisclaimerModal.cancel",defaultMessage:"Cancel"},warning:{id:"InstallUnverifiedDisclaimerModal.warning",defaultMessage:"OpenAI hasn't vetted this plugin. This plugin may pose risks to your information. Be sure you trust this plugin before proceeding."}});function tm(e){var t=e.onConfirm,n=e.onClose,r=(0,e9.Z)();return(0,er.jsx)(et.Z,{isOpen:!0,onClose:n,type:"success",title:r.formatMessage(tp.title),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(tp.continue),color:"primary",onClick:t}),secondaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(tp.cancel),color:"neutral",onClick:n}),children:(0,er.jsx)(tt,{children:(0,er.jsx)(e3,{children:(0,er.jsx)(e0,{icon:"\uD83D\uDEA8",children:(0,er.jsx)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tg(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},tp.warning))})})})})}function th(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tx(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?th(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):th(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tv(e){var t=e.plugin,n=e.onInstall,r=e.onClose,i=(0,L.useState)(!1),a=i[0],o=i[1],s=(0,L.useState)(t),l=s[0],c=s[1],u=(0,L.useCallback)(function(){o(!0)},[]);return l?a?(0,er.jsx)(tj,{plugin:l,onInstall:n,onClose:r}):(0,er.jsx)(tm,{onConfirm:u,onClose:r}):(0,er.jsx)(tb,{onLoad:c,onClose:r})}function tb(e){var t=e.onLoad,n=e.onClose,r=(0,e9.Z)(),i=(0,L.useRef)(null),a=(0,L.useState)(!1),o=a[0],s=a[1],l=(0,L.useState)(),c=l[0],u=l[1];(0,L.useEffect)(function(){setTimeout(function(){var e;null===(e=i.current)||void 0===e||e.focus()},50)},[]);var d=(0,L.useCallback)((0,X.Z)($().mark(function e(){var n,r,a;return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=null===(n=i.current)||void 0===n?void 0:n.value){e.next=4;break}return u("Please provide a URL."),e.abrupt("return");case 4:if(!(0,eQ.NB)(r)){e.next=7;break}return u('To add a localhost plugin, please go to "Develop your own plugin."'),e.abrupt("return");case 7:return e.prev=7,s(!0),e.next=11,e4.ZP.getPluginByDomain({domain:r});case 11:(a=e.sent)?t(a):u("That plugin doesn't exist."),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(7),u("Couldn't find plugin.");case 18:return e.prev=18,s(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[7,15,18,21]])})),[t,s,u]);return(0,er.jsx)(et.Z,{isOpen:!0,onClose:n,type:"success",title:r.formatMessage(ty.installUnverifiedPluginTitle),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(ty.findPlugin),color:"primary",onClick:d,loading:o}),secondaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(ty.cancel),color:"neutral",onClick:n}),children:(0,er.jsxs)(tt,{children:[(0,er.jsx)("div",{children:(0,er.jsx)(_.Z,tx({},ty.pleaseProvideDomain))}),(0,er.jsx)(e$.Z,{ref:i,name:"url",placeholder:"openai.com",onPressEnter:d}),c&&(0,er.jsx)(tn,{children:c})]})})}function tj(e){var t=e.plugin,n=e.onInstall,r=e.onClose,i=(0,e9.Z)(),a=(0,L.useState)(),o=a[0],s=a[1],l=(0,L.useState)(!1),c=l[0],u=l[1],d=(0,L.useRef)(null),f=(0,e7.useInstallPlugin)({onSuccess:function(e){n(e),r()},onError:function(e){s("Couldn't install plugin.")}}),g=t.manifest.name_for_human,p="user_http"===t.manifest.auth.type,m="oauth"===t.manifest.auth.type,h=(0,L.useCallback)((0,X.Z)($().mark(function e(){return $().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(m)(0,e7.doOauthRedirect)(t);else try{u(!0),f(t.id)}catch(e){s("Couldn't install plugin.")}finally{u(!1)}case 1:case"end":return e.stop()}},e)})),[t,m,f]);return(0,er.jsx)(et.Z,{isOpen:!0,onClose:r,type:"success",title:i.formatMessage(ty.unverifiedPluginTitle),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:m?i.formatMessage(ty.loginWithPlugin,{pluginName:g}):i.formatMessage(ty.installPlugin),color:"primary",onClick:h,loading:c}),secondaryButton:(0,er.jsx)(ee.ZP.Button,{title:i.formatMessage(ty.cancel),color:"neutral",onClick:r}),children:(0,er.jsxs)(tt,{children:[(0,er.jsx)(te.Z,{plugin:t}),p&&(0,er.jsxs)("div",{children:[(0,er.jsx)("div",{className:"text-sm",children:t.manifest.auth.instructions||(0,er.jsx)(_.Z,tx({},ty.enterHttpAccessToken))}),(0,er.jsx)("div",{className:"mt-2",children:(0,er.jsx)(e$.Z,{ref:d,type:"password",name:"token",placeholder:"Enter your credentials",autoComplete:"off",onPressEnter:h})})]}),m&&(0,er.jsx)("div",{children:(0,er.jsx)(_.Z,tx(tx({},ty.youWillBeRedirected),{},{values:{pluginName:(0,er.jsx)("span",{className:"font-medium",children:g})}}))}),o&&(0,er.jsx)(tn,{children:o})]})})}var ty=(0,U.vU)({installUnverifiedPluginTitle:{id:"InstallPluginModal.installUnverifiedPluginTitle",defaultMessage:"Install an unverified plugin"},pleaseProvideDomain:{id:"InstallPluginModal.pleaseProvideDomain",defaultMessage:"Please provide the website domain of the unverified plugin you'd like to install."},findPlugin:{id:"InstallPluginModal.findPlugin",defaultMessage:"Find plugin"},cancel:{id:"InstallPluginModal.cancel",defaultMessage:"Cancel"},unverifiedPluginTitle:{id:"InstallPluginModal.unverifiedPluginTitle",defaultMessage:"Unverified plugin"},loginWithPlugin:{id:"InstallPluginModal.loginWithPlugin",defaultMessage:"Log in with {pluginName}"},installPlugin:{id:"InstallPluginModal.installPlugin",defaultMessage:"Install plugin"},enterHttpAccessToken:{id:"InstallPluginModal.enterHttpAccessToken",defaultMessage:"Enter your HTTP access token below:"},youWillBeRedirected:{id:"InstallPluginModal.youWillBeRedirected",defaultMessage:"You will be redirected to {pluginName} to log in."}}),tk=n(80555),tw=n(89678),tO=n.n(tw),tP=n(49546),tA=n(54362),tM=n(66140);function tC(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}(r=v||(v={}))[r.All=0]="All",r[r.Installed=1]="Installed",(i=b||(b={})).New="newly_added",i.Popular="most_popular";var tN=[{id:b.Popular,title:"Popular"},{id:b.New,title:"New"},{id:v.All,title:"All"},{id:v.Installed,title:"Installed"}];function tS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function tT(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tS(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tS(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function tZ(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}var tI=(0,U.vU)({prev:{id:"PaginationControls.prev",defaultMessage:"Prev"},next:{id:"PaginationControls.next",defaultMessage:"Next"}});function tD(e){var t,n=e.page,r=e.numPages,i=e.goToPage,a=n>0,o=n<r-1,s=(0,L.useCallback)(function(){i(Math.max(n-1,0))},[n,i]),l=(0,L.useCallback)(function(){i(Math.min(n+1,r-1))},[n,r,i]),c=[],u=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tZ(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tZ(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,r=Math.max(0,t-n+1);if(0===r)return tz(0,t);var i=tz(0,e),a=tz(e+1,t);if(r<a.length-1)a.splice(Math.floor((a.length-r)/2),r,-1);else if(r<i.length-1)i.splice(Math.floor((i.length-r)/2),r,-1);else{var o=Math.min(a.length-3,r),s=r-o+1;a.splice(Math.floor((a.length-o)/2),o,-1),i.splice(Math.floor((i.length-s)/2),s,-2)}return[].concat((0,Q.Z)(i),[e],(0,Q.Z)(a))}(n,r));try{for(u.s();!(t=u.n()).done;)!function(){var e=t.value;e<0?c.push((0,er.jsx)("div",{role:"button",className:"flex h-5 w-5 items-center justify-center",children:"…"},"ellipsis-".concat(e))):c.push((0,er.jsx)(tX,{role:"button",className:(0,z.default)("flex h-5 w-5 items-center justify-center",e===n&&"text-blue-600 hover:text-blue-600 dark:text-blue-600 dark:hover:text-blue-600"),onClick:function(){return i(e)},children:e+1},e))}()}catch(e){u.e(e)}finally{u.f()}return(0,er.jsxs)("div",{className:"flex flex-wrap gap-2 text-sm text-black/60 dark:text-white/70",children:[(0,er.jsxs)(tX,{role:"button",className:(0,z.default)("flex items-center",!a&&"opacity-50"),onClick:s,$disabled:!a,children:[(0,er.jsx)(R.YFh,{className:"icon-sm"}),(0,er.jsx)(_.Z,tT({},tI.prev))]}),c,(0,er.jsxs)(tX,{role:"button",className:(0,z.default)("flex items-center",!o&&"opacity-50"),onClick:l,$disabled:!o,children:[(0,er.jsx)(_.Z,tT({},tI.next)),(0,er.jsx)(R.Tfp,{className:"icon-sm"})]})]})}function tz(e,t){return Array.from({length:t-e},function(t,n){return n+e})}function tE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var tB=(0,U.vU)({title:{id:"RequiresMfaModal.title",defaultMessage:"Enable two-factor authentication"},enableMfaButton:{id:"RequiresMfaModal.enableMfaButton",defaultMessage:"Enable two-factor authentication"},cancelButton:{id:"RequiresMfaModal.cancelButton",defaultMessage:"Cancel"},disclaimer:{id:"RequiresMfaModal.disclaimer",defaultMessage:"This plugin requires you to have two-factor authentication enabled for additional security. Please set up two-factor authentication and try again."}});function tL(e){var t=e.onClose,n=(0,tk.S)().setupMfa,r=(0,e9.Z)();return(0,er.jsx)(et.Z,{isOpen:!0,onClose:t,type:"success",title:r.formatMessage(tB.title),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(tB.enableMfaButton),color:"primary",onClick:n}),secondaryButton:(0,er.jsx)(ee.ZP.Button,{title:r.formatMessage(tB.cancelButton),color:"neutral",onClick:t}),children:(0,er.jsx)(tt,{children:(0,er.jsx)(e3,{children:(0,er.jsx)(e0,{icon:"\uD83D\uDEA8",children:(0,er.jsx)(_.Z,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tE(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tE(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},tB.disclaimer))})})})})}function tR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tR(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tR(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var tU=(j={},(0,O.Z)(j,eA._G.Mobile,8),(0,O.Z)(j,eA._G.Small,4),(0,O.Z)(j,eA._G.Medium,4),(0,O.Z)(j,eA._G.Large,6),(0,O.Z)(j,eA._G.XLarge,8),j),tG=(0,U.vU)({title:{id:"PluginStoreModal.title",defaultMessage:"Plugin store"},searchPlaceholder:{id:"PluginStoreModal.searchPlaceholder",defaultMessage:"Search plugins"},noSearchResultsTitle:{id:"PluginStoreModal.noSearchResults",defaultMessage:'No plugins found for "{query}"'},noSearchResultsHint:{id:"PluginStoreModal.noSearchResultsHint",defaultMessage:"Try a different query or category"},installUnverifiedPlugin:{id:"PluginStoreModal.installUnverifiedPlugin",defaultMessage:"Install an unverified plugin"},developPlugin:{id:"PluginStoreModal.developPlugin",defaultMessage:"Develop your own plugin"},aboutPlugins:{id:"PluginStoreModal.aboutPlugins",defaultMessage:"About plugins"},install:{id:"PluginStoreModal.card.install",defaultMessage:"Install"},uninstall:{id:"PluginStoreModal.card.uninstall",defaultMessage:"Uninstall"},installing:{id:"PluginStoreModal.card.installing",defaultMessage:"Installing"},uninstalling:{id:"PluginStoreModal.card.uninstalling",defaultMessage:"Uninstalling"},developerInfo:{id:"PluginStoreModal.card.developerInfo",defaultMessage:"Developer info"}}),tF=b.Popular;function tq(e){var t,n,r,i=e.onInstallWithAuthRequired,a=e.onClickInstallDeveloper,o=e.onClickDevelop,s=e.onClickAbout,l=e.onClose,c=(0,e9.Z)(),u=(0,A.hz)(),d=(0,L.useState)(tF),f=d[0],g=d[1],p=(0,L.useState)(""),m=p[0],h=p[1],x=(0,L.useState)(""),b=x[0],j=x[1],y=(n=(t=(0,tM.C)()).isLoading,r=t.installedPlugins,{availableFilters:(0,L.useMemo)(function(){return tN.filter(function(e){return e.id!==v.Installed||r.length>0})},[r]),isLoading:n}).availableFilters;(0,L.useEffect)(function(){y.some(function(e){return e.id===f})||g(tF)},[f,y]);var k=(0,L.useCallback)(tO()(function(e){j(e)},300),[]);return(0,er.jsx)(et.Z,{isOpen:!0,onClose:l,size:"custom",className:"w-full max-w-7xl bg-gray-50 md:min-w-[672px] lg:min-w-[896px] xl:min-w-[1024px]",type:"success",title:c.formatMessage(tG.title),closeButton:(0,er.jsx)(ee.ZP.CloseButton,{onClose:l}),children:(0,er.jsxs)(tt,{children:[y.length>1&&(0,er.jsxs)("div",{className:"flex flex-wrap gap-3",children:[y.map(function(e){return(0,er.jsx)(tH,{selected:f===e.id,onClick:function(){g(e.id)},children:e.title},e.id)}),(0,er.jsxs)("div",{className:"relative",children:[(0,er.jsx)("div",{className:"pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3",children:(0,er.jsx)(R.jRj,{className:"icon-md text-gray-500 dark:text-gray-400"})}),(0,er.jsx)(e$.Z,{className:"pl-10",autoFocus:!0,type:"search",placeholder:c.formatMessage(tG.searchPlaceholder),value:m,onChange:function(e){h(e.target.value),g(v.All),k(e.target.value)},name:"search"})]})]}),(0,er.jsx)(tV,{filter:f,query:b,onInstallWithAuthRequired:i,children:(0,er.jsxs)("div",{className:"flex flex-col items-center gap-2 sm:flex-row",children:[(null==u?void 0:u.includes("tools3_dev"))&&(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(tX,{onClick:a,children:(0,er.jsx)(_.Z,t_({},tG.installUnverifiedPlugin))}),(0,er.jsx)(tJ,{}),(0,er.jsx)(tX,{onClick:o,children:(0,er.jsx)(_.Z,t_({},tG.developPlugin))}),(0,er.jsx)(tJ,{})]}),(0,er.jsx)(tX,{onClick:s,children:(0,er.jsx)(_.Z,t_({},tG.aboutPlugins))})]})})]})})}function tV(e){var t=e.filter,n=e.query,r=e.onInstallWithAuthRequired,i=e.children,a=tU[(0,eA.dQ)()],o=(0,L.useState)(0),s=o[0],l=o[1],c=function(e){var t=e.filter,n=e.query,r=e.page,i=e.pageSize,a=(0,tA.Z)({category:function(e){if(e!==v.All&&e!==v.Installed)return e}(t),search:n,offset:i*r,limit:i}),o=a.data,s=a.isLoading,l=(0,tM.C)(),c=l.installedPlugins,u=l.isLoading,d=(0,L.useMemo)(function(){return""!==n?c.map(function(e){return{plugin:e,score:function(e,t){var n=t.toLowerCase(),r=n.trim().split(/\s+/),i=e.manifest.description_for_human.toLowerCase(),a=e.manifest.name_for_human.toLowerCase(),o=0;if(a===n||e.domain.toLowerCase()===n)return 1e3;if(a.startsWith(n))return 500;if(a.includes(n))return 100;var s,l=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return tC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(r);try{for(l.s();!(s=l.n()).done;){var c=s.value;if(a.startsWith(c))o+=50;else if(a.includes(c))o+=10;else{if(!i.includes(c))return 0;o+=1}}}catch(e){l.e(e)}finally{l.f()}return o}(e,n)}}).filter(function(e){return e.score>0}).sort(function(e,t){return t.score-e.score}).map(function(e){return e.plugin}):c.sort(function(e,t){return e.manifest.name_for_human.localeCompare(t.manifest.name_for_human)})},[c,n]);if(t===v.Installed){var f,g,p,m,h,x,b=(g=(f={page:r,items:d,pageSize:i}).page,p=f.items,m=f.pageSize,h=Math.ceil(p.length/m),x=g*m,{pagesTotal:h,pageItems:p.slice(x,x+m)});return{isLoading:u,items:b.pageItems,pagesTotal:b.pagesTotal}}var j=null!=o?o:{count:void 0,items:void 0},y=j.count;return{isLoading:s,items:j.items,pagesTotal:void 0!==y?Math.ceil(y/i):void 0}}({pageSize:a,filter:t,query:n,page:s}),u=c.isLoading,d=c.items,f=c.pagesTotal;(0,L.useEffect)(function(){l(0)},[t,n]);var g=(0,L.useState)(!1),p=g[0],m=g[1];return p?(0,er.jsx)(tL,{onClose:function(){m(!1)}}):(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(tK,{plugins:null!=d?d:[],numSkeletons:a,query:n,isLoading:u,onInstallWithAuthRequired:r,onRequestMfa:function(){return m(!0)}}),(0,er.jsxs)("div",{className:"flex flex-col flex-wrap items-center justify-center gap-6 sm:flex-row md:justify-between",children:[(0,er.jsx)("div",{className:"max-lg:justify-center flex flex-1 justify-start",children:void 0!==f&&f>1&&(0,er.jsx)(tD,{page:s,numPages:f,goToPage:l})}),i]})]})}function tH(e){var t=e.selected,n=e.onClick,r=e.children;return(0,er.jsx)(F.z,{color:t?"light":"neutral",className:(0,z.default)("focus:ring-0",t&&"hover:bg-gray-200",!t&&"text-black/50"),onClick:n,children:r})}function tK(e){var t=e.plugins,n=e.numSkeletons,r=e.isLoading,i=e.onInstallWithAuthRequired,a=e.onRequestMfa,o=e.query;if(0===t.length&&!r&&o)return(0,er.jsxs)("div",{className:"flex h-[404px] flex-col items-center justify-center gap-4",children:[(0,er.jsx)("div",{className:"text-lg font-medium",children:(0,er.jsx)(_.Z,t_(t_({},tG.noSearchResultsTitle),{},{values:{query:o}}))}),(0,er.jsx)("div",{className:"text-sm text-black/50",children:(0,er.jsx)(_.Z,t_({},tG.noSearchResultsHint))})]});var s=r?Array(n).fill(0).map(function(e,t){return(0,er.jsx)(tY,{},t)}):t.map(function(e){return(0,er.jsx)(tW,{plugin:e,onInstallWithAuthRequired:i,onRequestMfa:a},e.id)});return(0,er.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2 sm:grid-rows-2 lg:grid-cols-3 xl:grid-cols-4",children:s})}function tW(e){var t,n,r=e.plugin,i=e.onInstallWithAuthRequired,a=e.onRequestMfa,o=(0,L.useState)(!1),s=o[0],l=o[1],c=(0,L.useState)(!1),u=c[0],d=c[1],f=(0,e7.useInstallPlugin)({onSuccess:function(e){(0,eJ.wu)(e.id)},onError:function(e){console.error(e),eY.m.danger("Error installing ".concat(r.manifest.name_for_human,"."))},onSettled:function(){l(!1)}}),g=(0,e7.useUninstallPlugin)({onSuccess:function(){},onError:function(e){console.error(e),eY.m.danger("Error uninstalling ".concat(r.manifest.name_for_human,"."))},onSettled:function(){d(!1)}}),p=(0,e6.kP)().session,m=(0,A.hz)(),h=(0,e9.Z)(),x=(0,tk.S)().isUsernamePassword,v=(0,L.useCallback)(function(){var e,t=r.manifest.auth.type;if(!("none"===t||"service_http"===t)&&!(null!=p&&null!==(e=p.user)&&void 0!==e&&e.mfa)&&null!=m&&m.includes(M.i)&&x){a();return}"oauth"===t?(0,e7.doOauthRedirect)(r):"user_http"===t?i(r):(l(!0),f(r.id))},[r,f,i,a,x,p,m]),b=(0,L.useCallback)(function(){d(!0),g(r.id)},[r,g]);return n=s||u?(0,er.jsxs)(F.z,{color:"light",className:"bg-green-100 hover:bg-green-100",children:[s?h.formatMessage(tG.installing):h.formatMessage(tG.uninstalling),(0,er.jsx)(eC.Z,{})]}):null!==(t=r.user_settings)&&void 0!==t&&t.is_installed?(0,er.jsxs)(F.z,{color:"light",className:"hover:bg-gray-200",onClick:b,children:[(0,er.jsx)(_.Z,t_({},tG.uninstall)),(0,er.jsx)(R.$Rx,{className:"icon-sm"})]}):(0,er.jsxs)(F.z,{onClick:v,children:[(0,er.jsx)(_.Z,t_({},tG.install)),(0,er.jsx)(R.wzc,{className:"icon-sm"})]}),(0,er.jsx)(tQ,{logo:(0,er.jsx)(ey.Z,{url:r.manifest.logo_url,name:r.manifest.name_for_human,size:"100%",large:!0}),tag:(0,eQ.cf)(r)?(0,er.jsx)(tP.Aj,{}):"approved"!==r.status?(0,er.jsx)(tP.i$,{}):void 0,title:(0,er.jsx)("div",{className:"max-w-full truncate text-lg leading-6",children:r.manifest.name_for_human}),button:n,description:r.manifest.description_for_human,developerInfo:(0,er.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,er.jsx)(_.Z,t_({},tG.developerInfo)),(0,er.jsx)("a",{href:r.manifest.legal_info_url,target:"_blank",rel:"noreferrer",children:(0,er.jsx)(R.RsK,{className:"icon-xs"})}),(0,er.jsx)("a",{href:"mailto:".concat(r.manifest.contact_email),children:(0,er.jsx)(R.Imn,{className:"icon-xs"})})]})})}function tY(){return(0,er.jsx)(tQ,{logo:(0,er.jsx)("div",{className:"h-full w-full rounded-[5px] bg-gray-300"}),title:(0,er.jsx)("div",{className:"h-[19px] w-[103px] rounded-[5px] bg-gray-100"}),button:(0,er.jsx)("div",{className:"h-[36px] w-[103px] rounded-[5px] bg-gray-200"}),description:(0,er.jsxs)("div",{className:"flex flex-col gap-1.5",children:[(0,er.jsx)("div",{className:"h-[14px] w-[209px] rounded-[5px] bg-gray-100"}),(0,er.jsx)("div",{className:"h-[14px] w-[218px] rounded-[5px] bg-gray-100"}),(0,er.jsx)("div",{className:"h-[14px] w-[184px] rounded-[5px] bg-gray-100"})]}),developerInfo:(0,er.jsx)("div",{className:"h-full w-[120px] rounded-[5px] bg-gray-50"})})}function tQ(e){var t=e.logo,n=e.tag,r=e.title,i=e.button,a=e.description,o=e.developerInfo;return(0,er.jsxs)("div",{className:"flex flex-col gap-4 rounded border border-black/10 bg-white p-6 dark:border-white/20 dark:bg-gray-900",children:[(0,er.jsxs)("div",{className:"flex gap-4",children:[(0,er.jsx)("div",{className:"h-[70px] w-[70px] shrink-0",children:t}),(0,er.jsxs)("div",{className:"flex min-w-0 flex-col items-start justify-between",children:[null!=n?(0,er.jsxs)("div",{className:"flex items-center gap-1.5",children:[n,r]}):r,i]})]}),(0,er.jsx)("div",{className:"h-[60px] text-sm text-black/70 line-clamp-3 dark:text-white/70",children:a}),(0,er.jsx)("div",{className:"h-[14px] text-xs text-black/60 dark:text-white/60",children:o})]})}var tX=ej.Z.button(y||(y=(0,ev.Z)(["text-sm text-black/70 dark:text-white/70 whitespace-nowrap ",""])),function(e){return e.$disabled?"opacity-50 cursor-default":"hover:text-black/50 dark:hover:text-white/50"}),tJ=ej.Z.div(k||(k=(0,ev.Z)(["hidden h-4 border-l border-black/30 dark:border-white/30 sm:block"])));function t$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t0(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t$(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t$(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var t1=(0,U.vU)({aboutPlugins:{id:"StoreDisclaimerModal.aboutPlugins",defaultMessage:"About plugins"},okButton:{id:"StoreDisclaimerModal.okButton",defaultMessage:"OK"},cancelButton:{id:"StoreDisclaimerModal.cancelButton",defaultMessage:"Cancel"},thirdPartyWarning:{id:"StoreDisclaimerModal.thirdPartyWarning",defaultMessage:"Plugins are powered by third party applications that are not controlled by OpenAI. Be sure you trust a plugin before installation."},externalAppsWarning:{id:"StoreDisclaimerModal.externalAppsWarning",defaultMessage:"Plugins connect ChatGPT to external apps. If you enable a plugin, ChatGPT may send your conversation, custom instructions, and the country or state you're in to the plugin."},autoUseWarning:{id:"StoreDisclaimerModal.autoUseWarning",defaultMessage:"ChatGPT automatically chooses when to use plugins during a conversation, depending on the plugins you've enabled."}});function t2(e){var t=e.allowClose,n=e.onConfirm,r=e.onClose,i=(0,e9.Z)();return(0,er.jsx)(et.Z,{isOpen:!0,onClose:r,type:"success",title:i.formatMessage(t1.aboutPlugins),primaryButton:(0,er.jsx)(ee.ZP.Button,{title:i.formatMessage(t1.okButton),color:"primary",onClick:n}),secondaryButton:t&&(0,er.jsx)(ee.ZP.Button,{title:i.formatMessage(t1.cancelButton),color:"neutral",onClick:r}),children:(0,er.jsx)(tt,{children:(0,er.jsxs)(e3,{children:[(0,er.jsx)(e0,{icon:"\uD83D\uDEA8",children:(0,er.jsx)(_.Z,t0({},t1.thirdPartyWarning))}),(0,er.jsx)(e0,{icon:"\uD83C\uDF10",children:(0,er.jsx)(_.Z,t0({},t1.externalAppsWarning))}),(0,er.jsx)(e0,{icon:"\uD83E\uDDE0",children:(0,er.jsx)(_.Z,t0({},t1.autoUseWarning))})]})})})}var t5=eX.pm.HasSeenPluginDisclaimer;function t3(e){var t=e.onInstall,n=e.onClose,r=(0,eX.qg)(t5),i=r.eligible,a=r.markAsViewed,o=(0,L.useState)(!1),s=o[0],l=o[1],c=(0,L.useState)(!1),u=c[0],d=c[1],f=(0,L.useState)(),g=f[0],p=f[1],m=(0,L.useState)(!1),h=m[0],x=m[1],v=(0,L.useCallback)(function(){l(!1),a()},[a]),b=(0,L.useCallback)(function(e){p(e),d(!0)},[]),j=(0,L.useCallback)(function(){d(!0)},[]),y=(0,L.useCallback)(function(){x(!0)},[]),k=(0,L.useCallback)(function(){l(!0)},[]),w=(0,L.useCallback)(function(e){(0,eJ.wu)(e.id),n(),t(e)},[t,n]),O=(0,L.useCallback)(function(){p(void 0),d(!1),n()},[n]),P=(0,L.useCallback)(function(){x(!1),n()},[n]);return i||s?(0,er.jsx)(t2,{allowClose:i,onConfirm:v,onClose:n}):u?(0,er.jsx)(tv,{plugin:g,onInstall:w,onClose:O}):h?(0,er.jsx)(ts,{onClickInstall:b,onInstallLocalhost:w,onClose:P}):(0,er.jsx)(tq,{onInstallWithAuthRequired:b,onClickInstallDeveloper:j,onClickDevelop:y,onClickAbout:k,onClose:n})}var t4=["loginAip","loginSuccess"];function t8(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function t6(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?t8(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t8(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function t9(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return t7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return t7(e,t)}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function t7(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ne(e){var t,n=e.theme,r=void 0===n?"default":n,i=(0,L.useState)(!1),a=i[0],o=i[1],s=(0,L.useState)(!1),l=s[0],c=s[1],u=(0,E.useRouter)(),d=(0,tM.C)(),f=d.installedPlugins,g=d.isLoading,p=(0,eJ.p0)(),m=(0,L.useRef)(null);(0,L.useEffect)(function(){if(!g){var e=u.query,t=e.loginAip,n=e.loginSuccess,r=(0,P.Z)(e,t4);if(t){var i,a,o=f.find(function(e){return e.id===t});o&&"true"===n?((0,eJ.wu)(u.query.loginAip),null===(i=m.current)||void 0===i||i.open()):eY.m.warning("Couldn't log in with ".concat(null!==(a=null==o?void 0:o.manifest.name_for_human)&&void 0!==a?a:"plugin",".")),u.replace({pathname:u.pathname,query:r})}}},[u,f,g]);var h=(0,L.useCallback)(function(){var e;null===(e=m.current)||void 0===e||e.open()},[]),x=(0,L.useCallback)(function(){o(!1)},[]),v=(0,L.useState)(p),b=v[0],j=v[1],y=(0,L.useCallback)(function(e){if(e.length>eJ.hZ)c(!0),setTimeout(function(){c(!1)},600);else{var t,n=e.filter(function(e){return!p.find(function(t){return t.id===e.id})}),r=t9(eJ.iO);try{for(r.s();!(t=r.n()).done;){var i=function(){var e=t.value,r=p.find(function(t){return e.includes(t.domain)});if(r){var i=e.find(function(e){return e!==r.domain}),a=n.find(function(e){return e.domain===i});if(a)return eY.m.warning("You can't enable ".concat(a.manifest.name_for_human," while ").concat(r.manifest.name_for_human," is enabled.")),{v:void 0}}}();if("object"==typeof i)return i.v}}catch(e){r.e(e)}finally{r.f()}(0,eJ.dT)(e.map(function(e){return e.id}))}},[p]),k=(0,L.useCallback)(function(e){var t;null===(t=m.current)||void 0===t||t.close(),"store"===e&&o(!0)},[]),w=(0,L.useCallback)(function(){j(p),eb.m9.logEvent("chatgpt_plugin_chooser_opened",null,{num_enabled_plugins:"".concat(p.length)}),I.A.logEvent(D.M.pluginChooserOpened,{num_enabled_plugins:"".concat(p.length)})},[p]),O=(0,L.useCallback)(function(){var e,t=b.filter(function(e){return!p.find(function(t){return t.id===e.id})}),n=t9(p.filter(function(e){return!b.find(function(t){return t.id===e.id})}));try{for(n.s();!(e=n.n()).done;){var r=e.value;eb.m9.logEvent("chatgpt_plugin_enabled",null,{plugin_id:r.id}),I.A.logEvent(D.M.pluginEnabled,{plugin_id:r.id})}}catch(e){n.e(e)}finally{n.f()}var i,a=t9(t);try{for(a.s();!(i=a.n()).done;){var o=i.value;eb.m9.logEvent("chatgpt_plugin_disabled",null,{plugin_id:o.id}),I.A.logEvent(D.M.pluginDisabled,{plugin_id:o.id})}}catch(e){a.e(e)}finally{a.f()}},[p,b]),A=f.map(function(e){return{value:e,title:e.manifest.name_for_human,description:e.manifest.description_for_human,tags:[],customTags:(0,eQ.cf)(e)?(0,er.jsx)(tP.Aj,{}):"approved"!==e.status?(0,er.jsx)(tP.i$,{}):void 0,imageUrl:e.manifest.logo_url}}),M=A.filter(function(e){return p.find(function(t){return t.id===e.value.id})}),C=(0,er.jsx)(_.Z,t6(t6({},nn.pluginsInstalled),{},{values:{count:p.length}}));if(p.length>0&&p.length<6){var N=p.map(function(e,t){return(0,er.jsx)(ey.Z,{url:e.manifest.logo_url,name:e.manifest.name_for_human,size:24},t)});C=(0,er.jsx)("div",{className:"flex gap-2",children:N})}var S=[{id:"store",label:"Plugin store",icon:R.Rgz}];f.length>eJ.hZ&&(t=(0,er.jsx)(nt,{className:(0,z.default)("transition-colors duration-300",l&&"bg-red-200 text-red-800 dark:bg-red-200 dark:text-red-800"),children:(0,er.jsx)(_.Z,t6(t6({},nn.enabledPluginsLimit),{},{values:{enabledPlugins:p.length,maxEnabledPlugins:eJ.hZ}}))}));var T=(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(nt,{children:(0,er.jsx)(_.Z,t6({},nn.loading))}),(0,er.jsx)(eB,{showCheckbox:!0,theme:r}),(0,er.jsx)(eB,{showCheckbox:!0,theme:r}),(0,er.jsx)(eB,{showCheckbox:!0,theme:r}),(0,er.jsx)(eB,{showCheckbox:!0,theme:r}),(0,er.jsx)(eB,{showCheckbox:!0,theme:r})]});return(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(eZ,{name:"Plugins",selectedOptions:M,selectedLabel:C,options:A,actions:S,onChange:y,onAction:k,onOpen:w,onClose:O,dropdownRef:m,isLoading:g,loadingState:T,header:t,theme:"mini"===r?"mini":"default"}),a&&(0,er.jsx)(t3,{onInstall:h,onClose:x})]})}var nt=ej.Z.div(w||(w=(0,ev.Z)(["flex h-8 flex-shrink-0 items-center justify-center border-b border-black/10 bg-gray-50 text-xs text-gray-800 dark:border-white/20 dark:bg-[#272832] dark:text-white"]))),nn=(0,U.vU)({pluginsEnabled:{id:"PluginChooser.pluginsEnabled",defaultMessage:"{count, plural, =0 {No plugins} one {# plugin} other {# plugins}} enabled"},pluginsInstalled:{id:"PluginChooser.pluginsInstalled",defaultMessage:"{count, plural, =0 {No plugins} one {# plugin} other {# plugins}} installed"},loading:{id:"PluginChooser.loading",defaultMessage:"Loading..."},enabledPluginsLimit:{id:"PluginChooser.enabledPluginsLimit",defaultMessage:"{enabledPlugins}/{maxEnabledPlugins} Enabled"}}),nr=n(36638),ni=n(66442),na=n(46514),no=n(60177),ns=["children","className"];function nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function nc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nl(Object(n),!0).forEach(function(t){(0,O.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nl(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var nu=function(e){var t=e.children,n=e.className,r=(0,P.Z)(e,ns);return(0,er.jsxs)(ep.tc,nc(nc({$as:Z.fF,className:(0,z.default)("!gap-1 !pr-3 radix-state-open:bg-token-border-light",n)},r),{},{children:[t,(0,er.jsx)("div",{className:"ml-auto flex items-center text-token-text-tertiary group-data-[disabled]:opacity-50",children:(0,er.jsx)(R.Tfp,{className:"icon-md "})})]}))};function nd(){var e=(0,q.V_)();return(0,er.jsx)(ep.UA,{onClick:function(){q._P.setHistoryDisabled(!0),B().push("/",void 0,{shallow:!0})},className:"!pr-3",children:(0,er.jsxs)("div",{className:"flex grow items-start justify-between gap-2",children:[(0,er.jsxs)("div",{className:"flex gap-2",children:[(0,er.jsx)(eh.$i,{className:"icon-md"}),(0,er.jsx)(_.Z,nc({},nm.temporaryChat))]}),e&&(0,er.jsx)(W.p9,{className:(0,z.default)("icon-md")})]})})}function nf(e){var t,n,r,i,a=e.clientThreadId,o=e.inMobileHeader,s=(0,A.hz)(),l=C.tQ.getServerThreadId(a),c=null==s?void 0:s.includes(M.L0.Sunshine),u=null==s?void 0:s.includes(M.L0.BrowseAvailable),d=!l,f=(0,ni.Z)(),g=(0,na.ZL)(),p=(0,S.E)(),m=p.isUserUnauthenticated,h=p.handleLogin,x=(0,G.C)(M.L0.WorkspaceShareLinks),v=(0,no.ZP)(),b=(0,C.UL)(a),j=(0,na.Xy)(b.lastModelUsed,a),y=j.id,k=v.find(function(e){return e.categoryId===no.ft.GPT4}),w=null==k?void 0:k.options.find(function(e){var t;return e.name===(null===(t=no.Er[no.dN.PLUGINS])||void 0===t?void 0:t.name)}),O=v.find(function(e){return e.categoryId===no.ft.GPT3_5}),P=v.find(function(e){return e.categoryId===no.ft.OTHER}),z=v.find(function(e){return e.categoryId===no.ft.EXPERIMENTS}),E=y===(null==k?void 0:k.value)?no.ft.GPT4:y===(null==O?void 0:O.value)?no.ft.GPT3_5:(null==w?void 0:w.value)===y?"plugins":(null==P?void 0:P.options.find(function(e){return e.value===y}))!=null?no.ft.OTHER:(null==z?void 0:z.options.find(function(e){return e.value===y}))!=null?no.ft.EXPERIMENTS:null,B=(0,T.m0)(),R="plugins"===E,U=(null==P?void 0:null===(t=P.options)||void 0===t?void 0:t.length)&&P.options.length>0,q=(null==z?void 0:null===(n=z.options)||void 0===n?void 0:n.length)&&z.options.length>0,K=E===no.ft.GPT4?"4":E===no.ft.GPT3_5?"3.5":R?"Plugins":E===no.ft.OTHER?null!==(r=null==P?void 0:P.name)&&void 0!==r?r:"":E===no.ft.EXPERIMENTS&&null!==(i=null==z?void 0:z.name)&&void 0!==i?i:"",Y=function(e){return(0,er.jsx)("div",{className:"flex shrink-0 grow justify-between gap-2",children:(0,er.jsxs)("div",{className:"flex gap-2",children:[(0,er.jsx)(W.Gi,{className:"icon-md"}),e," Models"]})})},Q=(0,L.useCallback)(function(e){null==e||e.stopPropagation(),I.A.logEvent(D.M.openModalAccountPaymentfromModelPicker,{content:"gizmo-button"}),(0,nr.MG)()},[]);return g?null:(0,er.jsxs)(er.Fragment,{children:[(0,er.jsxs)(Z.fC,{children:[(0,er.jsx)(Z.xz,{asChild:!0,children:(0,er.jsxs)("div",{className:H.NX,title:E===no.ft.EXPERIMENTS||E===no.ft.OTHER?j.title:void 0,children:[(0,er.jsxs)("div",{children:[V.Dd," ",(0,er.jsx)("span",{className:"text-token-text-secondary",children:K})]}),(0,er.jsx)(W.ud,{className:"text-token-text-tertiary"})]})}),(0,er.jsx)(Z.Uv,{children:(0,er.jsxs)(Z.VY,{className:"mt-2 min-w-[340px] max-w-xs overflow-hidden rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",align:o?"center":"start",children:[k&&(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(H.oI,{value:k.value,name:(0,er.jsx)(er.Fragment,{children:(0,er.jsxs)("div",{className:"flex gap-2",children:[(0,er.jsx)(W.HV,{className:"icon-md shrink-0"}),(0,er.jsxs)("div",{children:["GPT-4",(0,er.jsx)("div",{className:"text-token-text-tertiary",children:u?(0,er.jsx)(_.Z,nc({},nm.gpt4ShortExplainer)):(0,er.jsx)(_.Z,nc({},nm.gpt4ShortExplainerWithoutBrowse))}),""!==f.modelSwitcherLimitShort&&(0,er.jsx)("span",{className:"text-token-text-tertiary",children:f.modelSwitcherLimitShort})]})]})}),isSelected:y===k.value,isNewThread:d}),(0,er.jsx)(ep.Cl,{})]}),O&&(0,er.jsx)(H.oI,{value:O.value,name:(0,er.jsxs)("div",{className:"flex gap-2",children:[(0,er.jsx)(W.PK,{className:"icon-md"}),(0,er.jsxs)("div",{children:["GPT-3.5",(0,er.jsx)("div",{className:"text-token-text-tertiary",children:(0,er.jsx)(_.Z,nc({},nm.gpt35ShortExplainer))})]})]}),isSelected:y===O.value,isNewThread:d}),!B&&!k&&(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(ex.R,{}),(0,er.jsx)(H.oI,{value:"",onClick:function(e){m?h(e,"Modal upsell from model switcher"):Q(e)},name:(0,er.jsxs)("div",{className:"flex gap-2",children:[(0,er.jsx)(W.HV,{className:"icon-md shrink-0"}),(0,er.jsxs)("div",{children:["GPT-4",(0,er.jsxs)("div",{className:"text-token-text-tertiary",children:[(0,er.jsx)(_.Z,nc({},nm.gpt4UpsellExplainer)),(0,er.jsx)("div",{className:"mt-2",children:m?(0,er.jsx)(F.z,{onClick:function(e){h(e,"Modal upsell from button")},color:"primary",className:"w-full !bg-brand-purple text-xs hover:bg-brand-purple hover:brightness-90",children:(0,er.jsx)(_.Z,nc({},nm.userUpgradeSignup))}):(0,er.jsx)(F.z,{onClick:function(e){Q(e)},color:"primary",className:"w-full !bg-brand-purple text-xs hover:bg-brand-purple hover:brightness-90",children:(0,er.jsx)(_.Z,nc({},nm.userUpgrade))})})]})]})]}),isSelected:!1,isNewThread:!0})]}),w&&(0,er.jsx)(ep.Cl,{}),null!=w&&(0,er.jsx)(H.oI,{value:w.value,name:(0,er.jsxs)("div",{className:"flex gap-2",children:[(0,er.jsx)(W.TC,{className:"icon-md"}),w.name]}),isSelected:R,isNewThread:d}),c&&(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(ep.Cl,{}),(0,er.jsx)(nd,{})]}),d&&(null!=U?U:q)&&(0,er.jsx)(ep.Cl,{}),d&&U?(0,er.jsxs)(Z.Tr,{children:[(0,er.jsx)(nu,{children:(0,er.jsxs)("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[Y(P.name),E===no.ft.OTHER&&(0,er.jsx)("div",{className:"truncate text-token-text-tertiary",children:j.title})]})}),(0,er.jsx)(H.Ye,{currentModel:j,categoryOptions:P.options})]}):null,d&&q?(0,er.jsxs)(Z.Tr,{children:[(0,er.jsx)(nu,{children:(0,er.jsxs)("div",{className:"flex grow justify-between gap-2 overflow-hidden",children:[Y(z.name),E===no.ft.EXPERIMENTS&&(0,er.jsx)("div",{className:"truncate text-token-text-tertiary",children:j.title})]})}),(0,er.jsx)(H.Ye,{currentModel:j,categoryOptions:z.options})]}):null,l&&x&&!m&&(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(ep.Cl,{}),(0,er.jsxs)(ep.UA,{onClick:function(){return N.vm.openSharingModal(l)},children:[(0,er.jsx)(W.Gp,{className:"icon-md"}),(0,er.jsx)(_.Z,nc({},nm.shareChat))]})]})]})})]}),R&&(0,er.jsx)(ne,{theme:"mini"})]})}function ng(e){var t,n=e.clientThreadId,r=e.inMobileHeader,i=e.gizmoId,a=(0,L.useState)(!1),o=a[0],s=a[1],l=(0,K.b9)(i).data;return null==l?null:(0,er.jsxs)(er.Fragment,{children:[(0,er.jsx)(Y.Z,{clientThreadId:n,gizmoResource:l,showReportModal:function(){s(!0)},inMobileHeader:r,children:(0,er.jsxs)("div",{className:H.NX,children:[l.gizmo.display.name,(null===(t=l.gizmo.tags)||void 0===t?void 0:t.includes(em.U9.Beta))&&(0,er.jsx)("div",{className:"rounded-full bg-gray-100 px-1.5 text-xs text-token-text-primary dark:bg-gray-900",children:"Beta"}),(0,er.jsx)(W.ud,{className:"text-token-text-tertiary"})]})}),o&&(0,er.jsx)(eg,{gizmoId:i,onClose:function(){s(!1)}})]})}function np(e){var t=e.clientThreadId,n=e.inMobileHeader,r=void 0!==n&&n,i=(0,K.TS)(t);return null==i?(0,er.jsx)(nf,{clientThreadId:t,inMobileHeader:r}):(0,er.jsx)(ng,{clientThreadId:t,gizmoId:i,inMobileHeader:r})}var nm=(0,U.vU)({gpt35ShortExplainer:{defaultMessage:"Great for everyday tasks",id:"ModelSwitcher.gpt35ShortExplainer"},gpt4ShortExplainer:{defaultMessage:"With DALL\xb7E, browsing and analysis",id:"ModelSwitcher.gpt4ShortExplainer"},gpt4ShortExplainerWithoutBrowse:{defaultMessage:"With DALL\xb7E and analysis",id:"ModelSwitcher.gpt4ShortExplainerWithoutBrowse"},gpt4UpsellExplainer:{id:"ModelSwitcher.gpt4Upsell",defaultMessage:"Our smartest and most capable model. Includes DALL\xb7E, browsing and more."},userUpgrade:{id:"ModelSwithcer.upgradeButton",defaultMessage:"Upgrade to Plus"},userUpgradeSignup:{id:"ModelSwithcer.signupUpgradeButton2",defaultMessage:"Upgrade to Plus"},temporaryChat:{id:"ModelSwitcher.temporaryChat",defaultMessage:"Temporary chat"},shareChat:{id:"ModelSwitcher.shareChat",defaultMessage:"Share chat"}})},26272:function(e,t,n){n.d(t,{B$:function(){return f},Yk:function(){return d},hx:function(){return g}});var r=n(36112),i=n(43477),a=n(78103);function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c=(0,i.Z)(function(){return{activeRequests:{}}}),u=(0,a.ZP)(c);function d(e){return u(function(t){return null!=t.activeRequests[e]})}function f(){return u(function(e){return Object.keys(e.activeRequests).length>0})}var g={addRequest:function(e,t){c.setState(function(n){return{activeRequests:l(l({},n.activeRequests),{},(0,r.Z)({},e,{id:e,abortController:t}))}})},removeRequest:function(e){c.setState(function(t){var n=l({},t.activeRequests);return delete n[e],{activeRequests:n}})},clear:function(){c.setState({activeRequests:{}})},abortRequest:function(e){var t=c.getState().activeRequests;return null!=t[e]&&(t[e].abortController.abort(),g.removeRequest(e),!0)},abortRequests:function(e){var t,n=l({},c.getState().activeRequests),r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(e);try{for(r.s();!(t=r.n()).done;){var i=t.value;null!=n[i]&&(n[i].abortController.abort(),delete n[i])}}catch(e){r.e(e)}finally{r.f()}c.setState({activeRequests:n})},abortAllRequests:function(){Object.values(c.getState().activeRequests).forEach(function(e){e.abortController.abort()}),g.clear()}}},25736:function(e,t,n){n.d(t,{Dd:function(){return r},L5:function(){return a},Lu:function(){return l},P_:function(){return s},aI:function(){return o},vi:function(){return c},zf:function(){return i}});var r="ChatGPT",i="Untitled",a=10,o=50,s=300,l=300,c=8e3},11693:function(e,t,n){n.d(t,{nw:function(){return z},NX:function(){return R},zr:function(){return D},Ye:function(){return E},oI:function(){return L}});var r=n(61302),i=n(37097),a=n(5063),o=n(49668),s=n(16140),l=n(46514),c=n(7144),u=n(1890),d=n(19954),f=n(18008),g=n(33322),p=n(5974),m=n(47428),h=n(19841),x=n(10721),v=n(61888),b=n(70079),j=n(70671),y=n(94968),k=n(3554),w=n(21120),O=n(38766),P=n(86561),A=n(32957),M=n(35250),C=A.pm.TemporaryChatOnboarding;function N(e){var t=e.icon,n=e.title,r=e.description;return(0,M.jsxs)("div",{className:"flex items-start",children:[(0,M.jsx)("div",{className:"mt-1",children:t}),(0,M.jsxs)("div",{className:"ml-4",children:[(0,M.jsx)("div",{className:"text-lg font-medium",children:n}),(0,M.jsx)("p",{className:"mt-1 text-sm text-token-text-secondary",children:r})]})]})}function S(e){var t=e.onClose,n=(0,b.useState)(!0),r=n[0],i=n[1],a=(0,j.Z)(),o=(0,A.qg)(C).markAsViewed,s=(0,b.useCallback)(function(){o(),i(!1),null==t||t()},[o,t]);return(0,M.jsx)(w.Z,{isOpen:r,onClose:v.noop,size:"custom",className:"max-w-xl",type:"success",title:a.formatMessage(T.title),primaryButton:(0,M.jsx)(k.ZP.Button,{onClick:s,title:a.formatMessage(T.continue),color:"primary"}),children:(0,M.jsxs)("div",{className:"mb-6 flex flex-col gap-3",children:[(0,M.jsx)(N,{icon:(0,M.jsx)(T.bulletTitle1.Icon,{}),title:a.formatMessage(T.bulletTitle1),description:a.formatMessage(T.bulletDescription1)}),(0,M.jsx)(N,{icon:(0,M.jsx)(T.bulletTitle2.Icon,{}),title:a.formatMessage(T.bulletTitle2),description:a.formatMessage(T.bulletDescription2)}),(0,M.jsx)(N,{icon:(0,M.jsx)(T.bulletTitle3.Icon,{}),title:a.formatMessage(T.bulletTitle3),description:a.formatMessage(T.bulletDescription3)})]})})}var T=(0,y.vU)({title:{id:"TemporaryChatOnboardingModal.title",defaultMessage:"Temporary Chat"},bulletTitle1:{Icon:P.$i,id:"TemporaryChatOnboardingModal.bulletTitle1",defaultMessage:"Off the record"},bulletDescription1:{id:"TemporaryChatOnboardingModal.bulletDescription1",defaultMessage:"Temporary Chats won’t appear in your history, and your GPT won’t remember anything you talk about."},bulletTitle2:{Icon:P.av,id:"TemporaryChatOnboardingModal.bulletTitle2",defaultMessage:"Blank slate"},bulletDescription2:{id:"TemporaryChatOnboardingModal.bulletDescription2",defaultMessage:"Your GPT won’t be aware of previous conversations or your custom instructions."},bulletTitle3:{Icon:P.mz,id:"TemporaryChatOnboardingModal.bulletTitle3",defaultMessage:"No model training"},bulletDescription3:{id:"TemporaryChatOnboardingModal.bulletDescription3",defaultMessage:"Temporary Chats won’t be used to improve our models."},continue:{id:"TemporaryChatOnboardingModal.continue",defaultMessage:"Continue"}}),Z=n(56700),I=function(e){var t=e.clientThreadId,n=(0,c.hz)(),i=null==n?void 0:n.includes("debug"),s=d.tQ.getServerThreadId(t),l=(0,r.C)(u.L0.WorkspaceShareLinks),p=(0,g.E)().isUserUnauthenticated;return(0,M.jsxs)("div",{className:"flex gap-2 pr-1",children:[l&&s&&!p&&(0,M.jsx)(o.y4,{onClick:function(){return f.vm.openSharingModal(s)},children:(0,M.jsx)(a.Gp,{className:"icon-md"})}),i&&(0,M.jsx)(o.y4,{onClick:function(){return f.vm.toggleActiveSidebar("debug")},children:(0,M.jsx)(a.WP,{className:"icon-md"})})]})};function D(e){var t=e.clientThreadId,n=e.gizmoId,r=(0,f.tN)(function(e){return e.isDesktopNavCollapsed}),s=(0,p.w$)(),l=(0,x.useRouter)(),c=(0,i.b9)(n).data;return null==c?null:(0,M.jsxs)(o.QT,{children:[(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[s&&r&&(0,M.jsx)(o.y4,{className:"ml-2",onClick:function(){l.push(null!=c?(0,i.m_)(c):"/",void 0,{shallow:!0})},children:(0,M.jsx)(a.ks,{className:"icon-md text-black dark:text-white"})}),(0,M.jsx)(Z._,{clientThreadId:t})]}),(0,M.jsx)(I,{clientThreadId:t})]})}function z(e){var t,n,r,i,s=e.clientThreadId,l=(0,x.useRouter)(),d=(0,f.tN)(function(e){return e.isDesktopNavCollapsed}),g=(0,p.w$)(),m=(r=null!==(t=null===(n=(0,c.hz)())||void 0===n?void 0:n.includes(u.L0.Sunshine))&&void 0!==t&&t,i=(0,O.V_)(),(0,A.qg)(C).eligible&&i&&r);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)(o.QT,{children:[(0,M.jsxs)("div",{className:"flex items-center gap-2",children:[g&&d&&(0,M.jsx)(o.y4,{className:"ml-2",onClick:function(){l.push("/",void 0,{shallow:!0})},children:(0,M.jsx)(a.ks,{className:"text-black dark:text-white"})}),(0,M.jsx)(Z._,{clientThreadId:s})]}),(0,M.jsx)(I,{clientThreadId:s})]}),m&&(0,M.jsx)(S,{})]})}function E(e){var t=e.currentModel,n=e.categoryOptions,r=null==t?void 0:t.id;return(0,M.jsx)(m.Uv,{children:(0,M.jsx)(m.tu,{className:"mt-2 max-h-[calc(100vh-300px)] min-w-[100px] max-w-xs overflow-auto rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",sideOffset:-10,alignOffset:-10,children:n.map(function(e){return(0,M.jsx)(B,{option:e,isSelected:r===e.value},e.value)})})})}function B(e){var t=e.option,n=e.isSelected;return(0,M.jsx)(L,{isSelected:n,value:t.value,name:t.name})}function L(e){var t=e.value,n=e.name,r=e.isSelected,i=e.isNewThread,c=void 0===i||i,u=e.onClick,d=(0,l.fm)(!c),f=(0,s.xT)();return(0,M.jsx)(o.UA,{onClick:function(){u?u():t&&(d(t),f(t))},className:(0,h.default)("!pr-3",r&&"!opacity-100"),children:(0,M.jsxs)("div",{className:"flex grow items-start justify-between gap-2",children:[(0,M.jsx)("div",{children:n}),r&&(0,M.jsx)(a.p9,{className:(0,h.default)("icon-md",!c&&"block group-hover:hidden")}),!c&&(0,M.jsxs)("div",{className:"hidden text-token-text-primary group-hover:flex",children:[(0,M.jsx)("div",{className:"absolute right-11",children:"New Chat"})," ",(0,M.jsx)(a.ks,{className:"icon-md"})]})]})},t)}var R="group flex cursor-pointer items-center gap-1 rounded-xl py-2 px-3 text-lg font-medium hover:bg-gray-50 radix-state-open:bg-gray-50 dark:hover:bg-black/10 dark:radix-state-open:bg-black/20"},73031:function(e,t,n){n.d(t,{Z:function(){return O}});var r=n(36112),i=n(21120),a=n(37097),o=n(5063),s=n(49668),l=n(14972),c=n(32957),u=n(73582),d=n(19841),f=n(21988),g=n.n(f),p=n(32004),m=n(94968),h={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-autodeck.a93d5bdd.png",height:288,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA9UlEQVR42h3PS0rDQAAG4H+SeaVJrBFE2xtkqbtQ6Ck8gRvduhA8ylxFXErJTrqzNBtFEBXENqFJOpmH0O8GHwGAVt3kXGQqiM8KH09h0vPSROktgFe6e7jO2a9YII0yOzAYS7CnwbxhclGLaEbDalDm7iojlxfady0HQsSc6c3PLlt9aEVRTwuXnCAcBg5L0XQBwB3vCcVL5wpK3AS6N7D7Hq718DSEFB791mFtGCg5nZT2+XNeH0tNAsK9Bra104/vEddsVJL+/ik3hC2+x2G2TgQqKVElCb7GR39pHM4IAGzUMm+4VKtRVCyFxJtgpRX+0PwH9IZmGXBmq0UAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},x={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-cumulus.f841e525.png",height:288,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA2ElEQVR42j2PvUoDQRSF53XmyWwsrCxFsLL1BUSwtBC00Ea8EtYii2IwiVFJQmCz5IdNioSZezdzT2bzd+DA5X5fc0yVi9u6vbqv0V3tVZJmIs3+Jw2ylt3Ao7O2vbxuFY9JF89pGw/pG15+30FZo6Bxx5rj0x59/SwxXYJHM+Cjn+Op98c32TfO85TMf8eJ84AThWPFhIFxCQxdiZO8Lqb0EHYKVQWg4KBYxS6gaPBcjHAgDagE3ksxzAgQVTIibCMosMtBib/S++0SZrYhBIqiVK1uz7yBazFL1NxWfzsyAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},v={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-interior.a5747c2c.png",height:288,width:288,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAclBMVEUAKToAKDgAJTUAJDQAIzQANEMAMEAALz8AMEEALz8AdIQAc4QAVmYAM0YALT0ALD0AJDYAIzUAABgAv9QArcEAqLsAp7sAkaMAj6EAfI0Ae4wAcYMAaXkAX28AXGwAP08APk4AGzAAGi8AGS4AABsAAA/pElgZAAAAE3RSTlMAACkpKcHBwe7u+fn5+vr6+vr6aGOLYQAAAEZJREFUeNoFQAcWgBAA/dmKBpq0xP2v2AOodE5SgOicUtYEvHbz0laO4d3Oa809xifsR7gniM94b7IAUyXGohgaIq2VpPkBmUwEN8VEfq4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},b={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-reactify.50d6fdd1.png",height:288,width:290,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAABCklEQVR4nAUAu0rDUPSccx/pzW1qQqQlgpsItiCIDu0QpIOLCoLgUnRR6NQ/cHPyE/oTbnV0aejoYxHJEBwKkupgOtQhaXoFHT8EU65aXOkhGNYmWTFMOxGC6DOpEqz5YbPkfFIswXU3GgaFBvO7ROY4KbNUB+16d1xVtXCtcPKf3rkU7zGILM3JKIkrNkJv8yTPCuKDg2ssbo/g8esTTPxm6CFG0vYc61sX+XdW8MPeGZ7eX0E5ZfBy92SiJEJddefob1+OLVLhYj/Ig+6x3HtewN/HLH8VM2mhNcLGzk0TLTURGbng+WbqMfBKwvWKlwIXHQx2B0DMajGth0SyLbltSNpRSbwPYJJ/o79Xydc39fwAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},j={src:"https://cdn.oaistatic.com/_next/static/media/onboarding-icon-writing.0eb75d42.png",height:256,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAIAAABLbSncAAAA00lEQVR42gHIADf/AIiyvKzP1Mjm59j189Hs67bU16PJzn+qtQB/qragxcu42t3K5eSmub6hw8mdw8p2o7AAcqGuj7fApcrQsMfIj6iwoMXMirO8a5uqAGOTpHelso+5wnWXo22SoIy2wHOhr12NoABNf5RajJ9lmqxpl6drmqlkmatYi55Je5EAPWuDOnKKrrq5vsjFwcrHpLO1N2+IPGqCAIevt5i5vYqanIeYmomZmoaYmpW2u32nsABsl6SCqbKNtLyYvcOXvMKKsbl6pK5ij57uVHnCDM/HXwAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},y=n(35250);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function O(e){var t=e.gizmoId,n=e.onClose,r=(0,a.kg)(t),l=(0,c.qg)(c.pm.GizmoGPTsOnboarding),d=l.eligible,f=l.markAsViewed,g=(0,u.ec)(u.F_.isBusinessWorkspace);if(!d)return null;var m=function(){f(),null==n||n()};return(0,y.jsxs)(i.Z,{isOpen:!0,onClose:m,type:"success",className:"!max-w-[500px]",noPadding:!0,children:[(0,y.jsx)("div",{className:"flex cursor-pointer justify-end p-4 text-xl text-token-text-tertiary",children:(0,y.jsx)("button",{onClick:m,children:(0,y.jsx)(o.v7,{className:"icon-md"})})}),(0,y.jsx)("div",{className:"mb-8 mt-4 w-full overflow-hidden",children:(0,y.jsx)(N,{gizmo:null==r?void 0:r.data})}),(0,y.jsxs)("div",{className:"mx-4 mb-4 flex flex-col gap-4 md:mx-12 md:mb-12",children:[(0,y.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,y.jsx)("div",{className:"text-center text-2xl font-bold",children:g?(0,y.jsx)(p.Z,w({},P.gizmoGPTsOnboardingHeadlineBiz)):(0,y.jsx)(p.Z,w({},P.gizmoGPTsOnboardingHeadline))}),(0,y.jsx)("div",{className:"text-center text-token-text-secondary",children:g?(0,y.jsx)(p.Z,w({},P.gizmoGPTsOnboardingSubheadingBiz)):(0,y.jsx)(p.Z,w({},P.gizmoGPTsOnboardingSubheading))})]}),(0,y.jsxs)("div",{className:"flex gap-3",children:[g&&(0,y.jsx)(s.Zq,{className:"w-full",color:"neutral",as:"a",to:"https://help.openai.com/en/articles/8555535-gpts-chatgpt-enterprise-version",openNewTab:!0,children:(0,y.jsx)(p.Z,w({},P.gizmoOnboardingLearnMore))}),(0,y.jsx)(s.Zq,{className:"w-full",color:"primary",onClick:m,children:(0,y.jsx)(p.Z,w({},P.gizmoOnboardingStart))})]})]})]})}var P=(0,m.vU)({gizmoGPTsOnboardingHeadline:{id:"gizmoGPTsOnboarding.headline",defaultMessage:"Introducing GPTs"},gizmoGPTsOnboardingHeadlineBiz:{id:"gizmoGPTsOnboardingBiz.headline",defaultMessage:"Your templates are now GPTs, customized versions of ChatGPT."},gizmoGPTsOnboardingSubheading:{id:"gizmoGPTsOnboarding.subheading",defaultMessage:"Custom versions of ChatGPT that combine instructions, extra knowledge and capabilities for a specific purpose."},gizmoGPTsOnboardingSubheadingBiz:{id:"gizmoGPTsOnboardingBiz.subheading",defaultMessage:"GPTs use custom instructions, data, and capabilities to tailor ChatGPT to your needs."},gizmoOnboardingStart:{id:"gizmoGPTsOnboarding.start",defaultMessage:"Get started"},gizmoOnboardingLearnMore:{id:"gizmoOnboarding.learnMore",defaultMessage:"Learn more"}});function A(e){var t=e.icon,n=e.iconClassName;return(0,y.jsxs)("div",{className:(0,d.default)("relative flex h-16 w-16 items-center justify-center overflow-hidden rounded-full",n),children:[null!=t?(0,y.jsx)(g(),{src:t,alt:"GPT Icon",width:"112",height:"112",className:"h-full w-full"}):(0,y.jsx)(l.nI,{className:"h-[66%] w-[66%]"}),(0,y.jsx)("div",{className:"absolute inset-0 rounded-full shadow-[inset_0_0_0_1px_rgba(0,0,0,0.1)] dark:shadow-[inset_0_0_0_1px_rgba(255,255,255,0.1)]"})]})}function M(e){var t=e.icon;return(0,y.jsx)(A,{icon:t})}function C(e){var t=e.icon;return(0,y.jsx)(A,{icon:t})}function N(e){var t=e.gizmo;return(0,y.jsxs)("div",{className:"-ml-8 flex w-[calc(100%+4rem)] items-center justify-between",children:[(0,y.jsx)(M,{icon:x}),(0,y.jsx)(C,{icon:b}),null!=t?(0,y.jsx)(A,{icon:t.gizmo.display.profile_picture_url,iconClassName:"w-[128px] h-[128px]"}):(0,y.jsx)(A,{icon:j,iconClassName:"w-[128px] h-[128px]"}),(0,y.jsx)(C,{icon:v}),(0,y.jsx)(M,{icon:h})]})}},50687:function(e,t,n){n.d(t,{n:function(){return el},Z:function(){return eo}});var r,i,a=n(50134),o=n(36112),s=n(4399),l=n.n(s),c=n(21120),u=n(82256),d=n(61302),f=n(3554),g=n(37097),p=n(5063),m=n(90038),h=n(91559),x=n(14711),v=n(63866),b=n(66027),j=n(18008),y=n(65374),k=n(25494),w=n(13135),O=n(19841),P=n(70079),A=n(1454),M=n(70671),C=n(32004),N=n(94968),S=n(21389),T=n(35250);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function D(e){var t=e.value,n=e.message;return(0,T.jsx)(y.xz,{className:"flex rounded-md px-2 py-1.5 text-sm text-token-text-primary radix-state-active:bg-white dark:radix-state-active:bg-token-surface-tertiary md:radix-state-active:bg-token-surface-tertiary md:radix-state-active:text-token-text-primary",value:t,children:(0,T.jsx)("div",{className:"truncate",children:(0,T.jsx)(C.Z,I({},n))})})}function z(e){var t,n,r,i,o=e.gizmoId,s=e.actionSettings,c=e.actionTool,u=(0,k.D)({mutationFn:(t=(0,a.Z)(l().mark(function e(t){var n,r,i;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.actionId,r=t.domain,i=t.settings,e.abrupt("return",x.U.upsertUserActionSettings(n,r,i));case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),onSuccess:function(){w.E.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:o}]})}}),d=null===(n=s.action_settings)||void 0===n?void 0:n.all,f=function(e){var t,n;null!==(t=c.metadata)&&void 0!==t&&t.action_id&&null!==(n=c.metadata)&&void 0!==n&&n.domain&&u.mutateAsync({actionId:c.metadata.action_id,domain:c.metadata.domain,settings:{all:e}})};return(0,T.jsx)("div",{children:(0,T.jsxs)(L,{className:"border-b border-black/10 dark:border-white/10",children:[(0,T.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,T.jsx)("div",{className:"font-medium",children:null===(r=c.metadata)||void 0===r?void 0:r.domain}),(0,T.jsxs)("a",{href:null===(i=c.metadata)||void 0===i?void 0:i.privacy_policy_url,target:"_blank",rel:"noreferrer",className:"flex items-center gap-1 text-gray-500 hover:cursor-pointer hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:[(0,T.jsx)(C.Z,I({},R.privacyPolicyLink)),(0,T.jsx)(A.AlO,{})]})]}),(0,T.jsxs)("select",{value:d?"always_allow":"unset",onChange:function(e){return f(e.target.value)},className:"rounded border-none text-sm dark:bg-gray-800",children:[(0,T.jsx)("option",{value:"always_allow",children:(0,T.jsx)(C.Z,I({},R.alwaysAllowDropdown))}),(0,T.jsx)("option",{value:"unset",children:(0,T.jsx)(C.Z,I({},R.askDropdown))})]})]})})}function E(e){var t,n,r=e.gizmoId,i=e.actionSettings,o=e.actionTool,s=(0,k.D)({mutationFn:(t=(0,a.Z)(l().mark(function e(t){var n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=t.pluginId,b.ZP.deletePluginUserSettings({pluginId:n});case 2:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)}),onSuccess:function(){w.E.invalidateQueries({queryKey:["gizmo","userActionSettings",{gizmoId:r}]})}}),c="valid"===i.oauth_status;return(0,T.jsxs)(L,{children:[(0,T.jsx)("div",{className:"font-medium",children:null==o?void 0:null===(n=o.metadata)||void 0===n?void 0:n.domain}),(0,T.jsx)(h.z,{color:"neutral",className:"px-2 py-1",onClick:function(){var e,t,n,i,a;null!==(e=o.metadata)&&void 0!==e&&e.action_id&&null!==(t=o.metadata)&&void 0!==t&&t.domain&&(c?s.mutateAsync({pluginId:null===(n=o.metadata)||void 0===n?void 0:n.action_id}):x.U.doOAuthRedirect(r,null===(i=o.metadata)||void 0===i?void 0:i.action_id,null===(a=o.metadata)||void 0===a?void 0:a.domain,window.location.href))},children:(0,T.jsx)(C.Z,I({},c?R.logout:R.login))})]})}var B=S.Z.div(r||(r=(0,m.Z)(["flex flex-col gap-6"]))),L=S.Z.div(i||(i=(0,m.Z)(["flex flex-row justify-between py-3 items-center"]))),R=(0,N.vU)({title:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.title"},actions:{defaultMessage:"Actions",id:"GizmoPrivacySettings.actions"},connectedAccounts:{defaultMessage:"Connected accounts",id:"GizmoPrivacySettings.connectedAccounts"},connectedAccountsDesc:{defaultMessage:"Manage which 3rd party accounts can be accessed by {gizmoName}.",id:"GizmoPrivacySettings.connectedAccountsDesc"},allowedActionsTitle:{defaultMessage:"GPT's privacy settings",id:"GizmoPrivacySettings.allowedActionsTitle"},allowedActionsDesc:{defaultMessage:"Select which 3rd party actions are allowed in conversations with {gizmoName}.",id:"GizmoPrivacySettings.allowedActionsDesc"},privacyPolicyLink:{defaultMessage:"Privacy policy",id:"GizmoPrivacySettings.privacyPolicyLink"},alwaysAllowDropdown:{defaultMessage:"Always allow",id:"GizmoPrivacySettings.alwaysAllowDropdown"},askDropdown:{defaultMessage:"Ask",id:"GizmoPrivacySettings.askDropdown"},login:{defaultMessage:"Log in",id:"GizmoPrivacySettings.login"},logout:{defaultMessage:"Log out",id:"GizmoPrivacySettings.logout"}}),_=function(e){var t=e.gizmo,n=(0,g.Wd)(t.gizmo.id,!0),r=n.data,i=n.isLoading,a=(0,j.EV)(j.B.GPTPrivacySettings),o=function(){return j.vm.closeModal(j.B.GPTPrivacySettings)},s=(0,M.Z)(),l=(0,P.useState)("actions"),d=l[0],p=l[1],m=null!=r&&r.settings.some(function(e){return null!=e.oauth_status&&t.tools.some(function(t){var n;return t.type===u.qK.JIT_PLUGIN&&(null===(n=t.metadata)||void 0===n?void 0:n.action_id)===e.action_id})});return"connected_accounts"!==d||m||p("actions"),(0,T.jsx)(c.Z,{title:s.formatMessage(R.title),isOpen:a,onClose:o,type:"success",size:"custom",className:"min-h-[50vh] max-w-3xl overflow-y-auto scroll-smooth",noPadding:!0,closeButton:(0,T.jsx)(f.ZP.CloseButton,{onClose:o}),children:i?(0,T.jsx)(v.Z,{}):(0,T.jsxs)(y.fC,{className:"flex flex-row gap-6 p-4",orientation:"vertical",defaultValue:d,onValueChange:function(e){p(e)},children:[m&&(0,T.jsxs)(y.aV,{className:(0,O.default)("flex min-w-[180px] max-w-[200px] flex-shrink-0 flex-col gap-2"),children:[(0,T.jsx)(D,{value:"actions",message:R.actions}),m&&(0,T.jsx)(D,{value:"connected_accounts",message:R.connectedAccounts})]}),(0,T.jsxs)("div",{className:"flex-1 text-sm",children:["actions"===d&&(0,T.jsxs)(B,{children:[(0,T.jsx)(C.Z,I(I({},R.allowedActionsDesc),{},{values:{gizmoName:t.gizmo.display.name}})),null==r?void 0:r.settings.map(function(e,n){var r,i=null===(r=t.tools)||void 0===r?void 0:r.find(function(t){var n;return t.type===u.qK.JIT_PLUGIN&&(null===(n=t.metadata)||void 0===n?void 0:n.action_id)===e.action_id});return i&&(0,T.jsx)(z,{gizmoId:t.gizmo.id,actionSettings:e,actionTool:i},n)})]}),"connected_accounts"===d&&(0,T.jsxs)(B,{children:[(0,T.jsx)(C.Z,I(I({},R.connectedAccountsDesc),{},{values:{gizmoName:t.gizmo.display.name}})),(0,T.jsx)("div",{children:null==r?void 0:r.settings.map(function(e,n){var r,i=null===(r=t.tools)||void 0===r?void 0:r.find(function(t){var n;return t.type===u.qK.JIT_PLUGIN&&(null===(n=t.metadata)||void 0===n?void 0:n.action_id)===e.action_id});return i&&e.oauth_status&&(0,T.jsx)(E,{gizmoId:t.gizmo.id,actionSettings:e,actionTool:i},n)})})]})]})]})})},U=n(17080),G=n(49668),F=n(52336),q=n(60177),V=n(7144),H=n(1890),K=n(19954),W=n(33322),Y=n(73582),Q=n(83380),X=n(28818),J=n(47428),$=n(37178),ee=n(10721),et=n(67404),en=n(9559);function er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ei(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function ea(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ei(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ei(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function eo(e){var t,n,r,i=e.children,o=e.clientThreadId,s=e.gizmoResource,c=e.showReportModal,f=e.inMobileHeader,m=(0,ee.useRouter)(),h=(0,en.XX)(s),v=(0,X.xj)(s.gizmo.id),b=(0,V.hz)(),y=(0,P.useState)(!1),k=y[0],w=y[1],O=(0,U.eY)(s.gizmo.id),A=null===(n=s.gizmo.tags)||void 0===n?void 0:n.includes(F.U9.FirstParty),M=s.gizmo.share_recipient===F.Zz.Marketplace||s.gizmo.share_recipient===F.Zz.Link,N=(0,K.XK)(o),S=(0,d.C)(H.L0.WorkspaceShareLinks),Z=(0,W.E)().isUserUnauthenticated;return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(J.fC,{children:[(0,T.jsx)(J.xz,{asChild:!0,children:i}),(0,T.jsx)(J.Uv,{children:(0,T.jsxs)(J.VY,{className:"mt-2 min-w-[100px] max-w-xs rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",align:f?"center":"start",children:[(0,T.jsxs)(G.UA,{onClick:function(){return m.push("/g/".concat(s.gizmo.short_url))},children:[(0,T.jsx)(p.ks,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.newChat))]}),(0,T.jsxs)(G.UA,{onClick:function(){return j.vm.openModal(j.B.GPTDetails)},children:[(0,T.jsx)(p.VX,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.about))]}),(null===(r=s.tools)||void 0===r?void 0:r.find(function(e){return e.type===u.qK.JIT_PLUGIN}))&&(0,T.jsxs)(G.UA,{onClick:function(){return j.vm.openModal(j.B.GPTPrivacySettings)},children:[(0,T.jsx)(p.LX,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.privacySettings))]}),h&&(0,T.jsxs)(G.UA,{onClick:function(){m.push(v,void 0,{shallow:!0})},children:[(0,T.jsx)(p.RR,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.customize))]}),(0,T.jsxs)(G.UA,{onClick:function(){x.U.updateGizmoSidebar(s.gizmo.id,O?"hide":"keep")},children:[O?(0,T.jsx)(p.q5,{className:"icon-md"}):(0,T.jsx)(p.pI,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},O?U.Vc.hideFromSidebar:U.Vc.keepInSidebar))]}),s.gizmo.share_recipient!=F.Zz.Private&&(0,T.jsxs)(G.UA,{onClick:(t=(0,a.Z)(l().mark(function e(t){var n;return l().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),t.preventDefault(),e.prev=2,n=s.gizmo.short_url?(0,g.AG)(s.gizmo.short_url):"".concat("https://chat.openai.com").concat((0,g.m_)(s)),e.next=6,(0,$.S)(n);case 6:w(!0),setTimeout(function(){w(!1)},2e3),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(2),console.error(e.t0),e.abrupt("return");case 14:case"end":return e.stop()}},e,null,[[2,10]])})),function(e){return t.apply(this,arguments)}),children:[(0,T.jsx)(p.HN,{className:"icon-md"}),k?(0,T.jsx)(C.Z,ea({},ef.copiedURL)):(0,T.jsx)(C.Z,ea({},ef.copyLink))]}),!A&&M&&(0,T.jsxs)(G.UA,{onClick:c,children:[(0,T.jsx)(p.AZ,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.report))]}),N&&S&&!Z&&(0,T.jsxs)(G.UA,{onClick:function(){return j.vm.openSharingModal(N)},children:[(0,T.jsx)(p.Gp,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.shareChatLong))]}),(null==b?void 0:b.includes("debug"))&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(G.Cl,{}),(0,T.jsx)(G.UA,{onClick:function(){m.push((0,g.i6)(s),void 0)},children:"(Internal) See share page"})]})]})})]}),(0,T.jsx)(ec,{gizmo:s}),(0,T.jsx)(_,{gizmo:s})]})}var es=function(e){var t=e.clientThreadId,n=(0,V.hz)(),r=null==n?void 0:n.includes("debug"),i=K.tQ.getServerThreadId(t),a=(0,d.C)(H.L0.WorkspaceShareLinks),o=(0,W.E)().isUserUnauthenticated;return(0,T.jsxs)(T.Fragment,{children:[a&&i&&!o&&(0,T.jsxs)(G.UA,{onClick:function(){return j.vm.openSharingModal(i)},children:[(0,T.jsx)(p.Gp,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.shareChat))]}),r&&(0,T.jsxs)(G.UA,{onClick:function(){return j.vm.toggleActiveSidebar("debug")},children:[(0,T.jsx)(p.WP,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.debugChat))]}),(0,T.jsxs)(G.UA,{onClick:function(){setTimeout(function(){Q.n.publish({kind:"editTitle"})},100)},children:[(0,T.jsx)(p.eu,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.renameChat))]}),(0,T.jsxs)(G.UA,{color:"danger",onClick:function(){Q.n.publish({kind:"deleteChat"})},children:[(0,T.jsx)(p.a_,{className:"icon-md"}),(0,T.jsx)(C.Z,ea({},ef.deleteChat))]})]})},el=function(e){var t=e.clientThreadId,n=e.children;return(0,T.jsxs)(J.fC,{children:[(0,T.jsx)(J.xz,{asChild:!0,children:n}),(0,T.jsx)(J.Uv,{children:(0,T.jsx)(J.VY,{className:"mt-2 min-w-[200px] max-w-xs rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",side:"bottom",align:"start",sideOffset:-15,children:(0,T.jsx)(es,{clientThreadId:t})})})]})},ec=function(e){var t,n=e.gizmo,r=(0,j.EV)(j.B.GPTDetails),i=function(){return j.vm.closeModal(j.B.GPTDetails)},a=(0,q.ZP)().find(function(e){return e.categoryId===q.ft.GPT4}),o=(0,Y.ec)(Y.F_.accountUserId),s=(0,Y.aF)(),l=null==s?void 0:s.id,u=null!==(t=(0,Y.ec)(Y.F_.businessWorkspaceId))&&void 0!==t?t:void 0,d=null!=n&&null!=o&&null!=l&&(0,en.k1)(n,o,l,u);return(0,T.jsxs)(c.Z,{isOpen:r,onClose:i,type:"success",noPadding:!0,children:[(0,T.jsx)("div",{className:"absolute right-4 top-4",children:(0,T.jsx)(f.ZP.CloseButton,{onClose:i})}),(0,T.jsx)("div",{className:"border-b border-token-border-heavy px-4 py-5 sm:px-6 sm:py-10",children:(0,T.jsx)(et.r,{gizmo:n,isOwner:d})}),(0,T.jsxs)("div",{className:"px-4 py-5 text-center sm:px-6 sm:py-10",children:[(0,T.jsx)("div",{className:"text-sm font-normal text-token-text-tertiary",children:(0,T.jsx)(C.Z,ea({},ef.poweredBy))}),(0,T.jsxs)("div",{className:"flex items-center justify-center gap-1.5 pt-1 text-2xl font-medium",children:[(0,T.jsx)(p.HV,{className:"text-brand-purple"}),(0,T.jsx)(C.Z,ea({},ef.gpt4))]}),(null==a?void 0:a.description)&&(0,T.jsx)("div",{className:"mx-auto max-w-xs pt-5 text-base font-normal text-token-text-secondary",children:null==a?void 0:a.description}),(0,T.jsx)(ed,{tools:n.tools})]})]})},eu=function(e){switch(e.type){case u.qK.BROWSER:return"Browsing";case u.qK.PYTHON:return"Data Analysis";case u.qK.DALLE:return"DALL•E";default:return null}},ed=function(e){var t=e.tools,n=new Set;if(!t||0===t.length)return null;var r,i=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return er(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if("Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return er(e,t)}}(e))){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,o=eu(a);null!=o&&n.add(o)}}catch(e){i.e(e)}finally{i.f()}return 0===n.size?null:(0,T.jsx)("div",{className:"flex flex-wrap justify-center gap-3 pt-5",children:Array.from(n).map(function(e,t){return(0,T.jsxs)("div",{className:"flex items-center gap-0.5 pt-1 text-xs font-normal text-token-text-tertiary",children:[(0,T.jsx)(p.oS,{className:"icon-sm text-green-600"}),e]},t)})})},ef=(0,N.vU)({poweredBy:{defaultMessage:"Powered by",id:"GizmoInformation.poweredBy"},gpt4:{defaultMessage:"GPT-4",id:"GizmoInformation.gpt4"},gpt3_5:{defaultMessage:"GPT-3.5",id:"GizmoInformation.gpt3_5"},newChat:{defaultMessage:"New chat",id:"GizmoInformation.newChat"},about:{defaultMessage:"About",id:"GizmoInformation.about"},privacySettings:{defaultMessage:"Privacy settings",id:"GizmoInformation.privacySettings"},viewDetails:{defaultMessage:"View details",id:"GizmoInformation.viewDetails"},share:{defaultMessage:"Share",id:"GizmoInformation.share"},favorite:{defaultMessage:"Favorite",id:"GizmoInformation.favorite"},customize:{defaultMessage:"Edit GPT",id:"GizmoInformation.customize"},report:{defaultMessage:"Report",id:"GizmoInformation.report"},privacy:{defaultMessage:"Privacy",id:"GizmoInformation.privacy"},deleteChat:{defaultMessage:"Delete chat",id:"GizmoInformation.deleteChat"},debugChat:{defaultMessage:"Debug",id:"GizmoInformation.debugChat"},renameChat:{defaultMessage:"Rename",id:"GizmoInformation.renameChat"},copyLink:{defaultMessage:"Copy link",id:"GizmoInformation.copyLink"},shareChat:{defaultMessage:"Share",id:"GizmoInformation.shareChat"},shareChatLong:{defaultMessage:"Share chat",id:"GizmoInformation.shareChatLong"},copiedURL:{defaultMessage:"Copied URL",id:"GizmoInformation.copiedURL"}})},67404:function(e,t,n){n.d(t,{r:function(){return j}});var r=n(36112),i=n(90166),a=n(79505),o=n(5063),s=n(52336),l=n(7144),c=n(1890),u={src:"https://cdn.oaistatic.com/_next/static/media/birthday-hat.64823912.png",height:145,width:145,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAxUlEQVR42mMAgZ+9ybyvektZGRiyGBmwgf+z8879n5EaC2JfWTiTHUPB0ayqxklBDa8YGBjEQfyVB06zoiiIYaio6mte+r8yqfXlgWdvTEBin98/ZYIraIrrXFvFUPG/Jr3zf1VM07/OVfsDQeJX502HKOrvWXq2J2f2/9qKGd/cGOL+zy9o+f+yMdEHZoBkWXjD91lNi/83MgT939vQ9O7LnJr8/+oMEHfcbsg2OVOQdvh6UeaijxOLc/4v05KA+26OOSMAVJpTTVNm2t4AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},d=n(32004),f=n(94968),g=n(38766),p=n(65865),m=n(73031),h=n(9559),x=n(35250);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function j(e){var t,n,r=e.gizmo,f=e.isOwner,v=e.isAnon,j=void 0!==v&&v,k=e.hideOwner,w=e.children,O=!!(null!=r&&(0,h.S9)(r)&&(null==r?void 0:null===(t=r.gizmo.tags)||void 0===t?void 0:t.includes(s.U9.FirstParty))),P=(0,g.V_)(),A=null===(n=(0,l.hz)())||void 0===n?void 0:n.includes(c.L0.Sunshine),M=null!=r&&(0,h.WQ)(r)?r.id:null==r?void 0:r.gizmo.id,C=null!=r&&(0,h.WQ)(r)?r.name:null==r?void 0:r.gizmo.display.name,N=null!=r&&(0,h.WQ)(r)?r.description:null==r?void 0:r.gizmo.display.description,S=null!=r&&(0,h.S9)(r)?r.gizmo.author.display_name?r.gizmo.author.display_name:"".concat(C,"’s builder"):null,T=new Date,Z=30===T.getDate()&&10===T.getMonth();return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)("div",{className:"flex h-full flex-col items-center justify-center",children:[(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(a.Z,{isFirstParty:O||!r,src:null!=r&&(0,h.WQ)(r)?r.profilePictureUrl:null==r?void 0:r.gizmo.display.profile_picture_url,className:"mb-3 h-[72px] w-[72px]"}),Z&&null==r&&(0,x.jsx)("a",{href:"https://openai.com/blog/chatgpt",className:"absolute -top-[45%] w-[56px]",target:"_blank",rel:"noreferrer",children:(0,x.jsx)(i.u,{label:"It's my 1st birthday!",side:"top",children:(0,x.jsx)("img",{alt:"It's my 1st birthday!",src:u.src})})})]}),null!=r?(0,x.jsxs)("div",{className:"flex flex-col items-center gap-0 p-2",children:[(0,x.jsx)("div",{className:"text-center text-2xl font-medium",children:C}),N&&(0,x.jsx)("div",{className:"max-w-md text-center text-xl font-normal text-token-text-secondary",children:N}),!(void 0!==k&&k)&&(0,x.jsx)("div",{className:"mt-1 flex items-center gap-1 text-token-text-tertiary",children:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(p.ZP,{gizmo:r}),!O&&!f&&!j&&(0,x.jsx)(i.u,{className:"pt-[1px]",label:(0,x.jsxs)(x.Fragment,{children:[S," can’t view your chats"]}),children:(0,x.jsx)(o.VX,{className:"icon-xs"})})]})})]}):P&&A?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:"mb-5 text-2xl font-medium",children:(0,x.jsx)(d.Z,b({},y.temporaryChat))}),(0,x.jsx)("div",{className:"max-w-sm text-center text-sm font-normal text-token-text-tertiary",children:(0,x.jsx)(d.Z,b({},y.temporaryChatDescription))})]}):(0,x.jsx)("div",{className:"mb-5 text-2xl font-medium",children:(0,x.jsx)(d.Z,b({},y.howCanIHelpYouToday))}),w]}),null!=M&&!j&&(0,x.jsx)(m.Z,{gizmoId:M})]})}var y=(0,f.vU)({temporaryChat:{id:"GizmoLanding.temporaryChat",defaultMessage:"Temporary Chat"},temporaryChatDescription:{id:"GizmoLanding.temporaryChatDescription",defaultMessage:"Your GPT won't remember anything you talk about, and this chat won't show up in your history or be used to train our models."},howCanIHelpYouToday:{id:"GizmoLanding.howCanIHelpYouToday",defaultMessage:"How can I help you today?"}})},17080:function(e,t,n){n.d(t,{Dy:function(){return _},Vc:function(){return V},Vq:function(){return R},eY:function(){return L},iD:function(){return q},jl:function(){return G}});var r,i,a=n(50134),o=n(36112),s=n(6939),l=n(4399),c=n.n(l),u=n(90166),d=n(79505),f=n(25736),g=n(37097),p=n(5063),m=n(14711),h=n(49668),x=n(52336),v=n(2306),b=n(7144),j=n(73582),y=n(28818),k=n(47428),w=n(15136),O=n(19841),P=n(97296),A=n(61888),M=n(73040),C=n.n(M),N=n(70079),S=n(32004),T=n(70671),Z=n(94968),I=n(67404),D=n(9559),z=n(35250);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach(function(t){(0,o.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function L(e){var t=(0,g.Wz)().data,n=(t=void 0===t?{}:t).gizmos;return!!n&&n.some(function(t){return t.resource.gizmo.id===e})}function R(e){var t=e.isActive;return(0,z.jsx)("div",{className:"sticky left-0 right-0 top-0 z-20 bg-black pt-3.5",children:(0,z.jsx)(G,{gizmo:void 0,isActive:t})})}function _(e){var t,n,r,a,o,l,c=e.currentGizmoId,u=(0,g.Wz)().data,d=(u=void 0===u?{}:u).gizmos,f=(0,A.groupBy)(d,function(e){return e.flair.kind});function m(e,t){return(0,z.jsx)(G,{gizmo:e,isActive:e.gizmo.id===c,section:t},e.gizmo.id)}var h=[].concat((0,s.Z)(null!==(t=null===(n=f[x.JK.FirstParty])||void 0===n?void 0:n.map(function(e){return{gizmo:e.resource,section:i.Keep}}))&&void 0!==t?t:[]),(0,s.Z)(null!==(r=null===(a=f[x.JK.SidebarKeep])||void 0===a?void 0:a.map(function(e){return{gizmo:e.resource,section:i.Keep}}))&&void 0!==r?r:[]),(0,s.Z)(null!==(o=null===(l=f[x.JK.Recent])||void 0===l?void 0:l.slice(0,2).map(function(e){return{gizmo:e.resource,section:i.Recents}}))&&void 0!==o?o:[])),v=(0,N.useState)(!1),b=v[0],j=v[1],k=h.length>5,w=k&&!b&&h.length>4?h.slice(0,4):h;return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(R,{isActive:void 0===c}),(0,z.jsxs)("div",{children:[w.filter(function(e){return e.section===i.Keep}).map(function(e){return m(e.gizmo,i.Keep)}),w.some(function(e){return e.section===i.Recents})&&(0,z.jsx)("div",{className:"my-2 ml-2 h-px w-7 bg-token-border-light"}),w.filter(function(e){return e.section===i.Recents}).map(function(e){return m(e.gizmo,i.Recents)}),k?b?(0,z.jsxs)("button",{onClick:function(){j(!1)},className:"flex items-center gap-1 p-2 text-sm font-medium text-token-text-primary",children:[(0,z.jsx)(S.Z,{id:"GizmoSidebarList.showLess",defaultMessage:"See less"}),(0,z.jsx)(p.Tx,{className:"icon-md"})]}):(0,z.jsxs)("button",{onClick:function(){j(!0)},className:"flex items-center gap-1 p-2 text-sm font-medium text-token-text-primary",children:[(0,z.jsx)(S.Z,{id:"GizmoSidebarList.showMoreItems",defaultMessage:"{numMore} more",values:{numMore:h.length-w.length}}),(0,z.jsx)(p.ud,{className:"icon-md"})]}):null,(0,z.jsx)(P.E.div,{whileTap:{scale:.98},children:(0,z.jsxs)(C(),{href:(0,y.cy)(),className:"flex h-10 w-full items-center gap-2 rounded-lg px-2 font-semibold text-token-text-primary hover:bg-token-surface-primary",children:[(0,z.jsx)("div",{className:"flex h-7 w-7 items-center justify-center text-token-text-secondary",children:(0,z.jsx)(p.hk,{className:"icon-md"})}),(0,z.jsx)("span",{className:"text-sm",children:(0,z.jsx)(S.Z,B({},V.explore))})]},"explore")})]})]})}function U(e){var t=e.gizmo,n=e.isOpen,r=e.setIsOpen,o=e.section;return(0,z.jsxs)(k.fC,{open:n,onOpenChange:r,children:[(0,z.jsx)(k.xz,{asChild:!0,children:(0,z.jsx)("button",{className:(0,O.default)("flex text-token-text-tertiary",n?"":"invisible group-hover:visible"),children:(0,z.jsx)(p.Yr,{className:"icon-md"})})}),(0,z.jsx)(k.Uv,{children:(0,z.jsxs)(k.VY,{className:"mt-2 min-w-[100px] max-w-xs rounded-lg border border-gray-100 bg-token-surface-primary shadow-lg dark:border-gray-700",align:"start",side:"bottom",sideOffset:-8,alignOffset:-8,children:[o===i.Recents&&(0,z.jsx)(h.UA,{onClick:(0,a.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.U.updateGizmoSidebar(t.gizmo.id,"keep");case 2:case"end":return e.stop()}},e)})),children:(0,z.jsx)(S.Z,B({},V.keepInSidebar))}),(0,z.jsx)(h.UA,{onClick:(0,a.Z)(c().mark(function e(){return c().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.U.updateGizmoSidebar(t.gizmo.id,"hide");case 2:case"end":return e.stop()}},e)})),children:(0,z.jsx)(S.Z,B({},V.hideFromSidebar))})]})})]})}function G(e){var t,n=e.gizmo,r=e.historyDisabled,i=e.isActive,a=e.section,o=(0,T.Z)(),s=(0,N.useState)(!1),l=s[0],c=s[1],m=(0,N.useState)(!1),h=m[0],v=m[1],j=(0,b.t)(),y=!!(null==n?void 0:null===(t=n.gizmo.tags)||void 0===t?void 0:t.includes(x.U9.FirstParty)),k="New chat";return null!=n?k=n.gizmo.display.name||f.zf:r?k=o.formatMessage(V.clearChat):null!=j&&j.canInteractWithGizmos()&&(k=f.Dd),(0,z.jsx)(P.E.div,{className:"pb-0.5 last:pb-0",whileTap:{scale:.98},onMouseEnter:function(){v(!0)},onMouseLeave:function(){v(!1)},children:(0,z.jsx)(F,{href:null!=n?(0,g.m_)(n):"/",icon:(0,z.jsx)(d.Z,{isFirstParty:null==n||y,src:null==n?void 0:n.gizmo.display.profile_picture_url,className:"h-7 w-7 flex-shrink-0"}),isMenuOpen:l,label:k,hoverRightIcon:(0,z.jsxs)("div",{className:"flex gap-3",children:[(h||l)&&null!=n&&(0,z.jsx)("div",{className:"text-token-text-tertiary",onClick:function(e){e.preventDefault()},children:(0,z.jsx)(U,{gizmo:n,isOpen:l,setIsOpen:c,section:a})}),(0,z.jsx)(u.u,{side:"right",label:o.formatMessage(r?V.clearChat:V.newChat),delayDuration:100,className:"flex items-center",children:(0,z.jsx)("button",{className:i?"text-token-text-primary":l?"text-token-text-tertiary":"invisible text-token-text-tertiary hover:text-token-text-secondary group-hover:visible",children:r?(0,z.jsx)(p.vX,{className:"icon-md"}):(0,z.jsx)(p.ks,{className:"icon-md"})})})]})})})}function F(e){var t=e.href,n=e.icon,r=e.label,i=e.hoverRightIcon,a=e.isMenuOpen;return(0,z.jsxs)(C(),{href:t,shallow:!0,className:(0,O.default)("group flex h-10 items-center gap-2 rounded-lg px-2 font-medium",a?"bg-token-surface-primary":"hover:bg-token-surface-primary"),children:[n,(0,z.jsx)("div",{className:"grow overflow-hidden text-ellipsis whitespace-nowrap text-sm text-token-text-primary",children:r}),i]})}function q(e){var t,n,r,i=e.clientThreadId,a=(0,g.TS)(i),o=(0,g.rm)(),s=(0,g.kg)(a).data,l=(0,j.ec)(j.F_.accountUserId),c=null===(t=(0,w.kP)().session)||void 0===t?void 0:null===(n=t.user)||void 0===n?void 0:n.id,u=null!==(r=(0,j.ec)(j.F_.businessWorkspaceId))&&void 0!==r?r:void 0;if((null!=o||null!=a)&&null==s)return null;var d=null!=s&&null!=l&&null!=c&&(0,D.k1)(s,l,c,u);return(0,z.jsxs)("div",{className:"relative h-full",children:[(0,z.jsx)("div",{className:"absolute left-0 right-0",children:(0,z.jsx)(v.B,{clientThreadId:i,gizmoId:a})}),(0,z.jsx)(I.r,{gizmo:s,isOwner:d})]})}(r=i||(i={}))[r.Keep=0]="Keep",r[r.Recents=1]="Recents";var V=(0,Z.vU)({explore:{id:"gizmo.explore",defaultMessage:"Explore"},keepInSidebar:{id:"gizmo.keepInSidebar",defaultMessage:"Keep in sidebar"},hideFromSidebar:{id:"gizmo.hideFromSidebar",defaultMessage:"Hide from sidebar"},newChat:{id:"gizmo.newChat",defaultMessage:"New chat"},clearChat:{id:"gizmo.clearChat",defaultMessage:"Clear chat"}})},22364:function(e,t,n){n.d(t,{C:function(){return u}});var r=n(36112),i=n(91530),a=n.n(i),o=n(78103);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={showReferralInviteModal:!1},u=(0,o.ZP)()(function(e){return l(l({},c),{},{setShowReferralInviteModal:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();e({showReferralInviteModal:t}),null==n||n()}})})},49546:function(e,t,n){n.d(t,{Aj:function(){return x},i$:function(){return h},nA:function(){return j},uM:function(){return b}});var r,i,a=n(36112),o=n(90038),s=n(1454),l=n(94968),c=n(32004),u=n(21389),d=n(35250);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach(function(t){(0,a.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var p=u.Z.div(r||(r=(0,o.Z)(["flex h-[18px] w-[18px] items-center justify-center rounded-[5px] bg-red-200 text-red-800"]))),m=(0,l.vU)({unapprovedTag:{id:"TagComponents.unapprovedTag",defaultMessage:"Unverified"},localhostTag:{id:"TagComponents.localhostTag",defaultMessage:"Localhost"}});function h(){return(0,d.jsx)(p,{children:(0,d.jsx)(s.OH,{className:"h-3 w-3 stroke-[2.5]"})})}function x(){return(0,d.jsx)(p,{children:(0,d.jsx)(s.V7f,{className:"icon-xs"})})}var v=u.Z.div(i||(i=(0,o.Z)(["flex items-center gap-1 rounded-[5px] bg-red-200 py-0.5 px-1.5 text-xs font-medium uppercase text-red-800"])));function b(){return(0,d.jsxs)(v,{children:[(0,d.jsx)(s.OH,{className:"h-3 w-3 stroke-[2.5]"}),(0,d.jsx)("div",{children:(0,d.jsx)(c.Z,g({},m.unapprovedTag))})]})}function j(){return(0,d.jsxs)(v,{children:[(0,d.jsx)(s.V7f,{className:"icon-xs"}),(0,d.jsx)("div",{children:(0,d.jsx)(c.Z,g({},m.localhostTag))})]})}},62442:function(e,t,n){n.d(t,{H1:function(){return g},Vk:function(){return d},tS:function(){return u},zG:function(){return f}});var r=n(36112),i=n(91530),a=n.n(i),o=n(78103);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={showEmbeddedPaymentModal:!1,embeddedCheckoutInstance:void 0,showFreeTrialLoadingPayment:!1,showConfirmDismissFreeTrial:!1,didCloseFreeTrial:!1},u=(0,o.ZP)()(function(e){return l(l({},c),{},{setShowEmbeddedPaymentModal:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();e({showEmbeddedPaymentModal:t}),n&&n()},setEmbeddedCheckoutInstance:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a();e({showEmbeddedPaymentModal:t}),n&&n()}})});function d(e){u.setState({showFreeTrialLoadingPayment:e})}function f(e){u.setState({showConfirmDismissFreeTrial:e})}function g(e){u.setState({didCloseFreeTrial:e})}},72459:function(e,t,n){n.d(t,{g:function(){return i},h:function(){return r}});var r="prompt-textarea";function i(){var e;null===(e=document.getElementById(r))||void 0===e||e.focus()}},58272:function(e,t,n){n.d(t,{LW:function(){return a},eR:function(){return i}});var r=n(3125);function i(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var a=(0,r.Z)(i[n],2),o=a[0],s=a[1];e.addEventListener(o,s)}return function(){for(var n=0,i=Object.entries(t);n<i.length;n++){var a=(0,r.Z)(i[n],2),o=a[0],s=a[1];e.removeEventListener(o,s)}}}function a(e,t){for(var n=0,i=Object.entries(t);n<i.length;n++){var a=(0,r.Z)(i[n],2),o=a[0],s=a[1];e.on(o,s)}return function(){for(var n=0,i=Object.entries(t);n<i.length;n++){var a=(0,r.Z)(i[n],2),o=a[0],s=a[1];e.off(o,s)}}}},99304:function(e,t,n){n.d(t,{V:function(){return l}});var r=n(60077),i=n(55509),a=n(36112),o=n(36560),s=n.n(o),l=function(){function e(){(0,r.Z)(this,e),(0,a.Z)(this,"emitter",new(s())),this.emitter.setMaxListeners(1e3)}return(0,i.Z)(e,[{key:"on",value:function(e,t){this.emitter.on(e,t)}},{key:"off",value:function(e,t){this.emitter.off(e,t)}},{key:"publish",value:function(e){this.emitter.emit(e.kind,e),this.emitter.emit("anyEvent",e)}}]),e}()},83380:function(e,t,n){n.d(t,{n:function(){return T},A3:function(){return N},yx:function(){return z},JS:function(){return D}});var r,i,a,o=n(6939),s=n(36112),l=n(15858),c=n(72459),u=n(25349),d=n(99893),f=n(37178),g=n(68354),p=n(61888),m=n(70079),h=n(94968),x=n(11591),v=n(4748),b=n(19954),j=n(18008),y=n(99304),k=n(41899),w=n(45248),O=m.useLayoutEffect;function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var A=/```[\s\S]*?\n([\s\S]+?)\n?```[^`]*$/gm;(r=a||(a={})).Core="Core",r.Chat="Chat",r.Settings="Settings";var M=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach(function(t){(0,s.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({Mod:"mod",Comma:","},l.s),C=(i={},(0,s.Z)(i,M.Mod,/Mac|iPod|iPhone|iPad/.test(window.navigator.platform)?"⌘":"Ctrl"),(0,s.Z)(i,M.Comma,","),(0,s.Z)(i,M.Enter,"⏎"),(0,s.Z)(i,M.Escape,"Esc"),(0,s.Z)(i,M.ArrowUp,"↑"),(0,s.Z)(i,M.ArrowDown,"↓"),(0,s.Z)(i,M.ArrowLeft,"←"),(0,s.Z)(i,M.ArrowRight,"→"),(0,s.Z)(i,M.Backspace,"⌫"),(0,s.Z)(i,M.Delete,"⌦"),(0,s.Z)(i,M.Tab,"⇥"),(0,s.Z)(i,M.Control,"Ctrl"),(0,s.Z)(i,M.Shift,"Shift"),i),N=function(e){return e.map(function(e){var t;return null!==(t=C[e])&&void 0!==t?t:e})},S=(0,h.vU)({newChat:{id:"keyboardActions.newChat",defaultMessage:"Open new chat"},focusPromptTextarea:{id:"keyboardActions.focusPromptTextarea",defaultMessage:"Focus chat input"},copyLastCodeBlock:{id:"keyboardActions.copyLastCodeBlock",defaultMessage:"Copy last code block"},copyLastResponse:{id:"keyboardActions.copyLastResponse",defaultMessage:"Copy last response"},toggleCustomInstructions:{id:"keyboardActions.toggleCustomInstructions",defaultMessage:"Set custom instructions"},navigationToggle:{id:"keyboardActions.navigationToggle",defaultMessage:"Toggle sidebar"},deleteChat:{id:"keyboardActions.deleteChat",defaultMessage:"Delete chat"},toggleKeyboardActions:{id:"keyboardActions.toggleKeyboardActions",defaultMessage:"Show shortcuts"}}),T=new y.V,Z=function(e){var t=e.resetThreadAction,n=e.clientThreadId;return[{key:"newChat",action:t||p.noop,actionMessageDescriptor:S.newChat,group:a.Core,keyboardBinding:[M.Mod,M.Shift,"o"],altKeyboardBindings:[[M.Mod,"k"]]},{key:"focusPromptTextarea",action:c.g,actionMessageDescriptor:S.focusPromptTextarea,group:a.Chat,keyboardBinding:[M.Shift,M.Escape]},{key:"copyLastCodeBlock",action:function(){if(null!=n)for(var e=b.tQ.getThreadCurrentLeafId(n),t=b.tQ.getThreadConversationTurns(n,e),r=t.length-1;r>=0;r--){var i=t[r].messages.reduce(function(e,t){return null==t.err&&t.message.author.role===x.uU.Assistant&&"all"===t.message.recipient?e+(e?"\n\n":"")+(0,k.RR)(t.message):e},""),a=(0,o.Z)(i.matchAll(A)),s=a.length?a[a.length-1][1]:null;if(null!=s){(0,f.S)(s).then(function(){v.m.success("Copied code block to clipboard")});break}}},actionMessageDescriptor:S.copyLastCodeBlock,group:a.Chat,keyboardBinding:[M.Mod,M.Shift,";"],altKeyboardBindings:[[M.Mod,M.Shift,":"]]},{key:"copyLastResponse",action:function(){null!=n&&b.tQ.copyLastMessageToClipboard(n,"keyboard").then(function(){v.m.success("Last response copied to clipboard")})},actionMessageDescriptor:S.copyLastResponse,group:a.Chat,keyboardBinding:[M.Mod,M.Shift,"c"]},{key:"toggleCustomInstructions",action:function(){return j.vm.toggleModal(j.B.UserContext)},actionMessageDescriptor:S.toggleCustomInstructions,group:a.Settings,keyboardBinding:[M.Mod,M.Shift,"i"]},{key:"navigationToggle",action:function(){return j.vm.toggleDesktopNavCollapsed()},actionMessageDescriptor:S.navigationToggle,group:a.Core,keyboardBinding:[M.Mod,M.Shift,"s"]},{key:"deleteChat",action:function(){T.publish({kind:"deleteChat"})},actionMessageDescriptor:S.deleteChat,group:a.Chat,keyboardBinding:[M.Mod,M.Shift,M.Backspace],altKeyboardBindings:[[M.Mod,M.Shift,M.Delete]]},{key:"toggleKeyboardActions",action:function(){return j.vm.toggleModal(j.B.KeyboardActions)},actionMessageDescriptor:S.toggleKeyboardActions,group:a.Settings,keyboardBinding:[M.Mod,"/"]}]},I=function(e){var t,n,r;return t=function(e){u.A.logEvent(d.M.keyboardShortcut,{keyboardActionKey:e.key}),g.U.addAction("chatgpt_keyboard_shortcut",{keyboardActionKey:e.key})},n={enabled:!0},r=e.map(function(e){var t=e.keyboardBinding.join("+");if(e.altKeyboardBindings){t=[t];var n=e.altKeyboardBindings.map(function(e){return e.join("+")});t=t.concat(n)}return(0,w.ZP)(t,{byKey:!0})}),void O(function(){if((null==n?void 0:n.enabled)!==!1){var i=function(n){if(!n.repeat)for(var i=0;i<r.length;i++)r[i](n)&&(void 0===e[i].enabled||e[i].enabled)&&(n.preventDefault(),t(e[i]),e[i].action())},a=function(e){void 0!==e.key&&i(e)},o=document;return o.addEventListener("keydown",a),function(){o.removeEventListener("keydown",a)}}},[e,n])},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resetThreadAction,n=e.clientThreadId;return(0,m.useMemo)(function(){return Z({resetThreadAction:t,clientThreadId:n}).filter(function(e){var t=e.enabled;return void 0===t||t})},[n,t])},z=function(e){I(D({resetThreadAction:e.resetThreadAction,clientThreadId:e.clientThreadId}))}}}]);